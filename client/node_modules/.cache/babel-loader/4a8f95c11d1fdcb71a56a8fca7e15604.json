{"ast":null,"code":"(function webpackUniversalModuleDefinition(root, factory) {\n  if (typeof exports === 'object' && typeof module === 'object') module.exports = factory(require(\"prop-types\"), require(\"react\"));else if (typeof define === 'function' && define.amd) define([\"prop-types\", \"React\"], factory);else if (typeof exports === 'object') exports[\"ReactMapInteraction\"] = factory(require(\"prop-types\"), require(\"react\"));else root[\"ReactMapInteraction\"] = factory(root[\"PropTypes\"], root[\"React\"]);\n})(this, function (__WEBPACK_EXTERNAL_MODULE__0__, __WEBPACK_EXTERNAL_MODULE__1__) {\n  return (\n    /******/\n    function (modules) {\n      // webpackBootstrap\n\n      /******/\n      // The module cache\n\n      /******/\n      var installedModules = {};\n      /******/\n\n      /******/\n      // The require function\n\n      /******/\n\n      function __webpack_require__(moduleId) {\n        /******/\n\n        /******/\n        // Check if module is in cache\n\n        /******/\n        if (installedModules[moduleId]) {\n          /******/\n          return installedModules[moduleId].exports;\n          /******/\n        }\n        /******/\n        // Create a new module (and put it into the cache)\n\n        /******/\n\n\n        var module = installedModules[moduleId] = {\n          /******/\n          i: moduleId,\n\n          /******/\n          l: false,\n\n          /******/\n          exports: {}\n          /******/\n\n        };\n        /******/\n\n        /******/\n        // Execute the module function\n\n        /******/\n\n        modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n        /******/\n\n        /******/\n        // Flag the module as loaded\n\n        /******/\n\n        module.l = true;\n        /******/\n\n        /******/\n        // Return the exports of the module\n\n        /******/\n\n        return module.exports;\n        /******/\n      }\n      /******/\n\n      /******/\n\n      /******/\n      // expose the modules object (__webpack_modules__)\n\n      /******/\n\n\n      __webpack_require__.m = modules;\n      /******/\n\n      /******/\n      // expose the module cache\n\n      /******/\n\n      __webpack_require__.c = installedModules;\n      /******/\n\n      /******/\n      // define getter function for harmony exports\n\n      /******/\n\n      __webpack_require__.d = function (exports, name, getter) {\n        /******/\n        if (!__webpack_require__.o(exports, name)) {\n          /******/\n          Object.defineProperty(exports, name, {\n            enumerable: true,\n            get: getter\n          });\n          /******/\n        }\n        /******/\n\n      };\n      /******/\n\n      /******/\n      // define __esModule on exports\n\n      /******/\n\n\n      __webpack_require__.r = function (exports) {\n        /******/\n        if (typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n          /******/\n          Object.defineProperty(exports, Symbol.toStringTag, {\n            value: 'Module'\n          });\n          /******/\n        }\n        /******/\n\n\n        Object.defineProperty(exports, '__esModule', {\n          value: true\n        });\n        /******/\n      };\n      /******/\n\n      /******/\n      // create a fake namespace object\n\n      /******/\n      // mode & 1: value is a module id, require it\n\n      /******/\n      // mode & 2: merge all properties of value into the ns\n\n      /******/\n      // mode & 4: return value when already ns object\n\n      /******/\n      // mode & 8|1: behave like require\n\n      /******/\n\n\n      __webpack_require__.t = function (value, mode) {\n        /******/\n        if (mode & 1) value = __webpack_require__(value);\n        /******/\n\n        if (mode & 8) return value;\n        /******/\n\n        if (mode & 4 && typeof value === 'object' && value && value.__esModule) return value;\n        /******/\n\n        var ns = Object.create(null);\n        /******/\n\n        __webpack_require__.r(ns);\n        /******/\n\n\n        Object.defineProperty(ns, 'default', {\n          enumerable: true,\n          value: value\n        });\n        /******/\n\n        if (mode & 2 && typeof value != 'string') for (var key in value) __webpack_require__.d(ns, key, function (key) {\n          return value[key];\n        }.bind(null, key));\n        /******/\n\n        return ns;\n        /******/\n      };\n      /******/\n\n      /******/\n      // getDefaultExport function for compatibility with non-harmony modules\n\n      /******/\n\n\n      __webpack_require__.n = function (module) {\n        /******/\n        var getter = module && module.__esModule ?\n        /******/\n        function getDefault() {\n          return module['default'];\n        } :\n        /******/\n        function getModuleExports() {\n          return module;\n        };\n        /******/\n\n        __webpack_require__.d(getter, 'a', getter);\n        /******/\n\n\n        return getter;\n        /******/\n      };\n      /******/\n\n      /******/\n      // Object.prototype.hasOwnProperty.call\n\n      /******/\n\n\n      __webpack_require__.o = function (object, property) {\n        return Object.prototype.hasOwnProperty.call(object, property);\n      };\n      /******/\n\n      /******/\n      // __webpack_public_path__\n\n      /******/\n\n\n      __webpack_require__.p = \"\";\n      /******/\n\n      /******/\n\n      /******/\n      // Load entry module and return exports\n\n      /******/\n\n      return __webpack_require__(__webpack_require__.s = 2);\n      /******/\n    }(\n    /************************************************************************/\n\n    /******/\n    [\n    /* 0 */\n\n    /***/\n    function (module, exports) {\n      module.exports = __WEBPACK_EXTERNAL_MODULE__0__;\n      /***/\n    },\n    /* 1 */\n\n    /***/\n    function (module, exports) {\n      module.exports = __WEBPACK_EXTERNAL_MODULE__1__;\n      /***/\n    },\n    /* 2 */\n\n    /***/\n    function (module, __webpack_exports__, __webpack_require__) {\n      \"use strict\";\n\n      __webpack_require__.r(__webpack_exports__); // EXTERNAL MODULE: external {\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"React\",\"root\":\"React\"}\n\n\n      var external_commonjs_react_commonjs2_react_amd_React_root_React_ = __webpack_require__(1);\n\n      var external_commonjs_react_commonjs2_react_amd_React_root_React_default = /*#__PURE__*/__webpack_require__.n(external_commonjs_react_commonjs2_react_amd_React_root_React_); // EXTERNAL MODULE: external {\"commonjs\":\"prop-types\",\"commonjs2\":\"prop-types\",\"commonj2s\":\"prop-types\",\"amd\":\"prop-types\",\"root\":\"PropTypes\"}\n\n\n      var external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_ = __webpack_require__(0);\n\n      var external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default = /*#__PURE__*/__webpack_require__.n(external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_); // CONCATENATED MODULE: ./src/Controls.jsx\n\n\n      function _typeof(obj) {\n        if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n          _typeof = function _typeof(obj) {\n            return typeof obj;\n          };\n        } else {\n          _typeof = function _typeof(obj) {\n            return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n          };\n        }\n\n        return _typeof(obj);\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n          var descriptor = props[i];\n          descriptor.enumerable = descriptor.enumerable || false;\n          descriptor.configurable = true;\n          if (\"value\" in descriptor) descriptor.writable = true;\n          Object.defineProperty(target, descriptor.key, descriptor);\n        }\n      }\n\n      function _createClass(Constructor, protoProps, staticProps) {\n        if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n        if (staticProps) _defineProperties(Constructor, staticProps);\n        return Constructor;\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n          return call;\n        }\n\n        return _assertThisInitialized(self);\n      }\n\n      function _assertThisInitialized(self) {\n        if (self === void 0) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return self;\n      }\n\n      function _getPrototypeOf(o) {\n        _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n          return o.__proto__ || Object.getPrototypeOf(o);\n        };\n        return _getPrototypeOf(o);\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function\");\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) _setPrototypeOf(subClass, superClass);\n      }\n\n      function _setPrototypeOf(o, p) {\n        _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n          o.__proto__ = p;\n          return o;\n        };\n\n        return _setPrototypeOf(o, p);\n      }\n\n      var Controls_Controls = /*#__PURE__*/function (_Component) {\n        _inherits(Controls, _Component);\n\n        function Controls() {\n          _classCallCheck(this, Controls);\n\n          return _possibleConstructorReturn(this, _getPrototypeOf(Controls).apply(this, arguments));\n        }\n\n        _createClass(Controls, [{\n          key: \"render\",\n          value: function render() {\n            var _this = this;\n\n            var _this$props = this.props,\n                plusBtnContents = _this$props.plusBtnContents,\n                minusBtnContents = _this$props.minusBtnContents,\n                btnClass = _this$props.btnClass,\n                plusBtnClass = _this$props.plusBtnClass,\n                minusBtnClass = _this$props.minusBtnClass,\n                controlsClass = _this$props.controlsClass,\n                scale = _this$props.scale,\n                minScale = _this$props.minScale,\n                maxScale = _this$props.maxScale,\n                onClickPlus = _this$props.onClickPlus,\n                onClickMinus = _this$props.onClickMinus,\n                disableZoom = _this$props.disableZoom;\n            var btnStyle = {\n              width: 30,\n              paddingTop: 5,\n              marginBottom: 5\n            };\n            var controlsStyle = controlsClass ? undefined : {\n              position: 'absolute',\n              right: 10,\n              top: 10\n            };\n\n            function plusHandler(e) {\n              e.preventDefault();\n              e.target.blur();\n              if (disableZoom) return;\n              onClickPlus();\n            }\n\n            function minusHandler(e) {\n              e.preventDefault();\n              e.target.blur();\n              if (disableZoom) return;\n              onClickMinus();\n            }\n\n            return external_commonjs_react_commonjs2_react_amd_React_root_React_default.a.createElement(\"div\", {\n              style: controlsStyle,\n              className: controlsClass\n            }, external_commonjs_react_commonjs2_react_amd_React_root_React_default.a.createElement(\"div\", null, external_commonjs_react_commonjs2_react_amd_React_root_React_default.a.createElement(\"button\", {\n              ref: function ref(node) {\n                _this.plusNode = node;\n              },\n              onClick: plusHandler,\n              onTouchEnd: plusHandler,\n              className: [btnClass ? btnClass : '', plusBtnClass ? plusBtnClass : ''].join(' '),\n              type: \"button\",\n              style: btnClass || plusBtnClass ? undefined : btnStyle,\n              disabled: disableZoom || scale >= maxScale\n            }, plusBtnContents)), external_commonjs_react_commonjs2_react_amd_React_root_React_default.a.createElement(\"div\", null, external_commonjs_react_commonjs2_react_amd_React_root_React_default.a.createElement(\"button\", {\n              ref: function ref(node) {\n                _this.minusNode = node;\n              },\n              onClick: minusHandler,\n              onTouchEnd: minusHandler,\n              className: [btnClass ? btnClass : '', minusBtnClass ? minusBtnClass : ''].join(' '),\n              type: \"button\",\n              style: btnClass || minusBtnClass ? undefined : btnStyle,\n              disabled: disableZoom || scale <= minScale\n            }, minusBtnContents)));\n          }\n        }]);\n\n        return Controls;\n      }(external_commonjs_react_commonjs2_react_amd_React_root_React_[\"Component\"]);\n\n      Controls_Controls.propTypes = {\n        onClickPlus: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.func.isRequired,\n        onClickMinus: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.func.isRequired,\n        plusBtnContents: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.node,\n        minusBtnContents: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.node,\n        btnClass: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.string,\n        plusBtnClass: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.string,\n        minusBtnClass: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.string,\n        controlsClass: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.string,\n        scale: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number,\n        minScale: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number,\n        maxScale: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number,\n        disableZoom: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.bool\n      };\n      Controls_Controls.defaultProps = {\n        plusBtnContents: '+',\n        minusBtnContents: '-',\n        disableZoom: false\n      };\n      /* harmony default export */\n\n      var src_Controls = Controls_Controls; // CONCATENATED MODULE: ./src/geometry.js\n\n      function clamp(min, value, max) {\n        return Math.max(min, Math.min(value, max));\n      }\n\n      function distance(p1, p2) {\n        var dx = p1.x - p2.x;\n        var dy = p1.y - p2.y;\n        return Math.sqrt(Math.pow(dx, 2) + Math.pow(dy, 2));\n      }\n\n      function midpoint(p1, p2) {\n        return {\n          x: (p1.x + p2.x) / 2,\n          y: (p1.y + p2.y) / 2\n        };\n      }\n\n      function touchPt(touch) {\n        return {\n          x: touch.clientX,\n          y: touch.clientY\n        };\n      }\n\n      function touchDistance(t0, t1) {\n        var p0 = touchPt(t0);\n        var p1 = touchPt(t1);\n        return distance(p0, p1);\n      } // CONCATENATED MODULE: ./src/makePassiveEventOption.js\n      // We want to make event listeners non-passive, and to do so have to check\n      // that browsers support EventListenerOptions in the first place.\n      // https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Safely_detecting_option_support\n\n\n      var passiveSupported = false;\n\n      try {\n        var options = {\n          get passive() {\n            passiveSupported = true;\n          }\n\n        };\n        window.addEventListener(\"test\", options, options);\n        window.removeEventListener(\"test\", options, options);\n      } catch (_unused) {\n        passiveSupported = false;\n      }\n\n      function makePassiveEventOption(passive) {\n        return passiveSupported ? {\n          passive: passive\n        } : passive;\n      }\n      /* harmony default export */\n\n\n      var src_makePassiveEventOption = makePassiveEventOption; // CONCATENATED MODULE: ./src/MapInteraction.jsx\n\n      function MapInteraction_typeof(obj) {\n        if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n          MapInteraction_typeof = function _typeof(obj) {\n            return typeof obj;\n          };\n        } else {\n          MapInteraction_typeof = function _typeof(obj) {\n            return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n          };\n        }\n\n        return MapInteraction_typeof(obj);\n      }\n\n      function _extends() {\n        _extends = Object.assign || function (target) {\n          for (var i = 1; i < arguments.length; i++) {\n            var source = arguments[i];\n\n            for (var key in source) {\n              if (Object.prototype.hasOwnProperty.call(source, key)) {\n                target[key] = source[key];\n              }\n            }\n          }\n\n          return target;\n        };\n\n        return _extends.apply(this, arguments);\n      }\n\n      function _objectWithoutProperties(source, excluded) {\n        if (source == null) return {};\n\n        var target = _objectWithoutPropertiesLoose(source, excluded);\n\n        var key, i;\n\n        if (Object.getOwnPropertySymbols) {\n          var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n          for (i = 0; i < sourceSymbolKeys.length; i++) {\n            key = sourceSymbolKeys[i];\n            if (excluded.indexOf(key) >= 0) continue;\n            if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n            target[key] = source[key];\n          }\n        }\n\n        return target;\n      }\n\n      function _objectWithoutPropertiesLoose(source, excluded) {\n        if (source == null) return {};\n        var target = {};\n        var sourceKeys = Object.keys(source);\n        var key, i;\n\n        for (i = 0; i < sourceKeys.length; i++) {\n          key = sourceKeys[i];\n          if (excluded.indexOf(key) >= 0) continue;\n          target[key] = source[key];\n        }\n\n        return target;\n      }\n\n      function _objectSpread(target) {\n        for (var i = 1; i < arguments.length; i++) {\n          var source = arguments[i] != null ? arguments[i] : {};\n          var ownKeys = Object.keys(source);\n\n          if (typeof Object.getOwnPropertySymbols === 'function') {\n            ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n              return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n            }));\n          }\n\n          ownKeys.forEach(function (key) {\n            _defineProperty(target, key, source[key]);\n          });\n        }\n\n        return target;\n      }\n\n      function _defineProperty(obj, key, value) {\n        if (key in obj) {\n          Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n          });\n        } else {\n          obj[key] = value;\n        }\n\n        return obj;\n      }\n\n      function MapInteraction_classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function MapInteraction_possibleConstructorReturn(self, call) {\n        if (call && (MapInteraction_typeof(call) === \"object\" || typeof call === \"function\")) {\n          return call;\n        }\n\n        return MapInteraction_assertThisInitialized(self);\n      }\n\n      function MapInteraction_getPrototypeOf(o) {\n        MapInteraction_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n          return o.__proto__ || Object.getPrototypeOf(o);\n        };\n        return MapInteraction_getPrototypeOf(o);\n      }\n\n      function MapInteraction_assertThisInitialized(self) {\n        if (self === void 0) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return self;\n      }\n\n      function MapInteraction_defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n          var descriptor = props[i];\n          descriptor.enumerable = descriptor.enumerable || false;\n          descriptor.configurable = true;\n          if (\"value\" in descriptor) descriptor.writable = true;\n          Object.defineProperty(target, descriptor.key, descriptor);\n        }\n      }\n\n      function MapInteraction_createClass(Constructor, protoProps, staticProps) {\n        if (protoProps) MapInteraction_defineProperties(Constructor.prototype, protoProps);\n        if (staticProps) MapInteraction_defineProperties(Constructor, staticProps);\n        return Constructor;\n      }\n\n      function MapInteraction_inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function\");\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) MapInteraction_setPrototypeOf(subClass, superClass);\n      }\n\n      function MapInteraction_setPrototypeOf(o, p) {\n        MapInteraction_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n          o.__proto__ = p;\n          return o;\n        };\n\n        return MapInteraction_setPrototypeOf(o, p);\n      } // The amount that a value of a dimension will change given a new scale\n\n\n      var coordChange = function coordChange(coordinate, scaleRatio) {\n        return scaleRatio * coordinate - coordinate;\n      };\n\n      var translationShape = external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.shape({\n        x: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number,\n        y: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number\n      });\n      /*\n        This contains logic for providing a map-like interaction to any DOM node.\n        It allows a user to pinch, zoom, translate, etc, as they would an interactive map.\n        It renders its children with the current state of the translation and does not do any scaling\n        or translating on its own. This works on both desktop, and mobile.\n      */\n\n      var MapInteraction_MapInteractionControlled = /*#__PURE__*/function (_Component) {\n        MapInteraction_inherits(MapInteractionControlled, _Component);\n        MapInteraction_createClass(MapInteractionControlled, null, [{\n          key: \"propTypes\",\n          get: function get() {\n            return {\n              // The content that will be transformed\n              children: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.func,\n              // This is a controlled component\n              value: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.shape({\n                scale: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number.isRequired,\n                translation: translationShape.isRequired\n              }).isRequired,\n              onChange: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.func.isRequired,\n              disableZoom: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.bool,\n              disablePan: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.bool,\n              translationBounds: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.shape({\n                xMin: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number,\n                xMax: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number,\n                yMin: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number,\n                yMax: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number\n              }),\n              minScale: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number,\n              maxScale: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number,\n              showControls: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.bool,\n              plusBtnContents: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.node,\n              minusBtnContents: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.node,\n              btnClass: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.string,\n              plusBtnClass: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.string,\n              minusBtnClass: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.string,\n              controlsClass: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.string\n            };\n          }\n        }, {\n          key: \"defaultProps\",\n          get: function get() {\n            return {\n              minScale: 0.05,\n              maxScale: 3,\n              showControls: false,\n              translationBounds: {},\n              disableZoom: false,\n              disablePan: false\n            };\n          }\n        }]);\n\n        function MapInteractionControlled(props) {\n          var _this;\n\n          MapInteraction_classCallCheck(this, MapInteractionControlled);\n          _this = MapInteraction_possibleConstructorReturn(this, MapInteraction_getPrototypeOf(MapInteractionControlled).call(this, props));\n          _this.state = {\n            shouldPreventTouchEndDefault: false\n          };\n          _this.startPointerInfo = undefined;\n          _this.onMouseDown = _this.onMouseDown.bind(MapInteraction_assertThisInitialized(_this));\n          _this.onTouchStart = _this.onTouchStart.bind(MapInteraction_assertThisInitialized(_this));\n          _this.onMouseMove = _this.onMouseMove.bind(MapInteraction_assertThisInitialized(_this));\n          _this.onTouchMove = _this.onTouchMove.bind(MapInteraction_assertThisInitialized(_this));\n          _this.onMouseUp = _this.onMouseUp.bind(MapInteraction_assertThisInitialized(_this));\n          _this.onTouchEnd = _this.onTouchEnd.bind(MapInteraction_assertThisInitialized(_this));\n          _this.onWheel = _this.onWheel.bind(MapInteraction_assertThisInitialized(_this));\n          return _this;\n        }\n\n        MapInteraction_createClass(MapInteractionControlled, [{\n          key: \"componentDidMount\",\n          value: function componentDidMount() {\n            var passiveOption = src_makePassiveEventOption(false);\n            this.getContainerNode().addEventListener('wheel', this.onWheel, passiveOption);\n            /*\n              Setup events for the gesture lifecycle: start, move, end touch\n            */\n            // start gesture\n\n            this.getContainerNode().addEventListener('touchstart', this.onTouchStart, passiveOption);\n            this.getContainerNode().addEventListener('mousedown', this.onMouseDown, passiveOption); // move gesture\n\n            window.addEventListener('touchmove', this.onTouchMove, passiveOption);\n            window.addEventListener('mousemove', this.onMouseMove, passiveOption); // end gesture\n\n            var touchAndMouseEndOptions = _objectSpread({\n              capture: true\n            }, passiveOption);\n\n            window.addEventListener('touchend', this.onTouchEnd, touchAndMouseEndOptions);\n            window.addEventListener('mouseup', this.onMouseUp, touchAndMouseEndOptions);\n          }\n        }, {\n          key: \"componentWillUnmount\",\n          value: function componentWillUnmount() {\n            this.getContainerNode().removeEventListener('wheel', this.onWheel); // Remove touch events\n\n            this.getContainerNode().removeEventListener('touchstart', this.onTouchStart);\n            window.removeEventListener('touchmove', this.onTouchMove);\n            window.removeEventListener('touchend', this.onTouchEnd); // Remove mouse events\n\n            this.getContainerNode().removeEventListener('mousedown', this.onMouseDown);\n            window.removeEventListener('mousemove', this.onMouseMove);\n            window.removeEventListener('mouseup', this.onMouseUp);\n          }\n          /*\n            Event handlers\n             All touch/mouse handlers preventDefault because we add\n            both touch and mouse handlers in the same session to support devicse\n            with both touch screen and mouse inputs. The browser may fire both\n            a touch and mouse event for a *single* user action, so we have to ensure\n            that only one handler is used by canceling the event in the first handler.\n             https://developer.mozilla.org/en-US/docs/Web/API/Touch_events/Supporting_both_TouchEvent_and_MouseEvent\n          */\n\n        }, {\n          key: \"onMouseDown\",\n          value: function onMouseDown(e) {\n            e.preventDefault();\n            this.setPointerState([e]);\n          }\n        }, {\n          key: \"onTouchStart\",\n          value: function onTouchStart(e) {\n            e.preventDefault();\n            this.setPointerState(e.touches);\n          }\n        }, {\n          key: \"onMouseUp\",\n          value: function onMouseUp(e) {\n            this.setPointerState();\n          }\n        }, {\n          key: \"onTouchEnd\",\n          value: function onTouchEnd(e) {\n            this.setPointerState(e.touches);\n          }\n        }, {\n          key: \"onMouseMove\",\n          value: function onMouseMove(e) {\n            if (!this.startPointerInfo || this.props.disablePan) {\n              return;\n            }\n\n            e.preventDefault();\n            this.onDrag(e);\n          }\n        }, {\n          key: \"onTouchMove\",\n          value: function onTouchMove(e) {\n            if (!this.startPointerInfo) {\n              return;\n            }\n\n            e.preventDefault();\n            var _this$props = this.props,\n                disablePan = _this$props.disablePan,\n                disableZoom = _this$props.disableZoom;\n            var isPinchAction = e.touches.length == 2 && this.startPointerInfo.pointers.length > 1;\n\n            if (isPinchAction && !disableZoom) {\n              this.scaleFromMultiTouch(e);\n            } else if (e.touches.length === 1 && this.startPointerInfo && !disablePan) {\n              this.onDrag(e.touches[0]);\n            }\n          } // handles both touch and mouse drags\n\n        }, {\n          key: \"onDrag\",\n          value: function onDrag(pointer) {\n            var _this2 = this;\n\n            var _this$startPointerInf = this.startPointerInfo,\n                translation = _this$startPointerInf.translation,\n                pointers = _this$startPointerInf.pointers;\n            var startPointer = pointers[0];\n            var dragX = pointer.clientX - startPointer.clientX;\n            var dragY = pointer.clientY - startPointer.clientY;\n            var newTranslation = {\n              x: translation.x + dragX,\n              y: translation.y + dragY\n            };\n            var shouldPreventTouchEndDefault = Math.abs(dragX) > 1 || Math.abs(dragY) > 1;\n            this.setState({\n              shouldPreventTouchEndDefault: shouldPreventTouchEndDefault\n            }, function () {\n              _this2.props.onChange({\n                scale: _this2.props.value.scale,\n                translation: _this2.clampTranslation(newTranslation)\n              });\n            });\n          }\n        }, {\n          key: \"onWheel\",\n          value: function onWheel(e) {\n            if (this.props.disableZoom) {\n              return;\n            }\n\n            e.preventDefault();\n            e.stopPropagation();\n            var scaleChange = Math.pow(2, e.deltaY * 0.002);\n            var newScale = clamp(this.props.minScale, this.props.value.scale + (1 - scaleChange), this.props.maxScale);\n            var mousePos = this.clientPosToTranslatedPos({\n              x: e.clientX,\n              y: e.clientY\n            });\n            this.scaleFromPoint(newScale, mousePos);\n          }\n        }, {\n          key: \"setPointerState\",\n          value: function setPointerState(pointers) {\n            if (!pointers || pointers.length === 0) {\n              this.startPointerInfo = undefined;\n              return;\n            }\n\n            this.startPointerInfo = {\n              pointers: pointers,\n              scale: this.props.value.scale,\n              translation: this.props.value.translation\n            };\n          }\n        }, {\n          key: \"clampTranslation\",\n          value: function clampTranslation(desiredTranslation) {\n            var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.props;\n            var x = desiredTranslation.x,\n                y = desiredTranslation.y;\n            var _props$translationBou = props.translationBounds,\n                xMax = _props$translationBou.xMax,\n                xMin = _props$translationBou.xMin,\n                yMax = _props$translationBou.yMax,\n                yMin = _props$translationBou.yMin;\n            xMin = xMin != undefined ? xMin : -Infinity;\n            yMin = yMin != undefined ? yMin : -Infinity;\n            xMax = xMax != undefined ? xMax : Infinity;\n            yMax = yMax != undefined ? yMax : Infinity;\n            return {\n              x: clamp(xMin, x, xMax),\n              y: clamp(yMin, y, yMax)\n            };\n          }\n        }, {\n          key: \"translatedOrigin\",\n          value: function translatedOrigin() {\n            var translation = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props.value.translation;\n            var clientOffset = this.getContainerBoundingClientRect();\n            return {\n              x: clientOffset.left + translation.x,\n              y: clientOffset.top + translation.y\n            };\n          } // From a given screen point return it as a point\n          // in the coordinate system of the given translation\n\n        }, {\n          key: \"clientPosToTranslatedPos\",\n          value: function clientPosToTranslatedPos(_ref) {\n            var x = _ref.x,\n                y = _ref.y;\n            var translation = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.props.value.translation;\n            var origin = this.translatedOrigin(translation);\n            return {\n              x: x - origin.x,\n              y: y - origin.y\n            };\n          }\n        }, {\n          key: \"scaleFromPoint\",\n          value: function scaleFromPoint(newScale, focalPt) {\n            var _this$props$value = this.props.value,\n                translation = _this$props$value.translation,\n                scale = _this$props$value.scale;\n            var scaleRatio = newScale / (scale != 0 ? scale : 1);\n            var focalPtDelta = {\n              x: coordChange(focalPt.x, scaleRatio),\n              y: coordChange(focalPt.y, scaleRatio)\n            };\n            var newTranslation = {\n              x: translation.x - focalPtDelta.x,\n              y: translation.y - focalPtDelta.y\n            };\n            this.props.onChange({\n              scale: newScale,\n              translation: this.clampTranslation(newTranslation)\n            });\n          } // Given the start touches and new e.touches, scale and translate\n          // such that the initial midpoint remains as the new midpoint. This is\n          // to achieve the effect of keeping the content that was directly\n          // in the middle of the two fingers as the focal point throughout the zoom.\n\n        }, {\n          key: \"scaleFromMultiTouch\",\n          value: function scaleFromMultiTouch(e) {\n            var startTouches = this.startPointerInfo.pointers;\n            var newTouches = e.touches; // calculate new scale\n\n            var dist0 = touchDistance(startTouches[0], startTouches[1]);\n            var dist1 = touchDistance(newTouches[0], newTouches[1]);\n            var scaleChange = dist1 / dist0;\n            var startScale = this.startPointerInfo.scale;\n            var targetScale = startScale + (scaleChange - 1) * startScale;\n            var newScale = clamp(this.props.minScale, targetScale, this.props.maxScale); // calculate mid points\n\n            var startMidpoint = midpoint(touchPt(startTouches[0]), touchPt(startTouches[1]));\n            var newMidPoint = midpoint(touchPt(newTouches[0]), touchPt(newTouches[1])); // The amount we need to translate by in order for\n            // the mid point to stay in the middle (before thinking about scaling factor)\n\n            var dragDelta = {\n              x: newMidPoint.x - startMidpoint.x,\n              y: newMidPoint.y - startMidpoint.y\n            };\n            var scaleRatio = newScale / startScale; // The point originally in the middle of the fingers on the initial zoom start\n\n            var focalPt = this.clientPosToTranslatedPos(startMidpoint, this.startPointerInfo.translation); // The amount that the middle point has changed from this scaling\n\n            var focalPtDelta = {\n              x: coordChange(focalPt.x, scaleRatio),\n              y: coordChange(focalPt.y, scaleRatio)\n            }; // Translation is the original translation, plus the amount we dragged,\n            // minus what the scaling will do to the focal point. Subtracting the\n            // scaling factor keeps the midpoint in the middle of the touch points.\n\n            var newTranslation = {\n              x: this.startPointerInfo.translation.x - focalPtDelta.x + dragDelta.x,\n              y: this.startPointerInfo.translation.y - focalPtDelta.y + dragDelta.y\n            };\n            this.props.onChange({\n              scale: newScale,\n              translation: this.clampTranslation(newTranslation)\n            });\n          }\n        }, {\n          key: \"discreteScaleStepSize\",\n          value: function discreteScaleStepSize() {\n            var _this$props2 = this.props,\n                minScale = _this$props2.minScale,\n                maxScale = _this$props2.maxScale;\n            var delta = Math.abs(maxScale - minScale);\n            return delta / 10;\n          } // Scale using the center of the content as a focal point\n\n        }, {\n          key: \"changeScale\",\n          value: function changeScale(delta) {\n            var targetScale = this.props.value.scale + delta;\n            var _this$props3 = this.props,\n                minScale = _this$props3.minScale,\n                maxScale = _this$props3.maxScale;\n            var scale = clamp(minScale, targetScale, maxScale);\n            var rect = this.getContainerBoundingClientRect();\n            var x = rect.left + rect.width / 2;\n            var y = rect.top + rect.height / 2;\n            var focalPoint = this.clientPosToTranslatedPos({\n              x: x,\n              y: y\n            });\n            this.scaleFromPoint(scale, focalPoint);\n          } // Done like this so it is mockable\n\n        }, {\n          key: \"getContainerNode\",\n          value: function getContainerNode() {\n            return this.containerNode;\n          }\n        }, {\n          key: \"getContainerBoundingClientRect\",\n          value: function getContainerBoundingClientRect() {\n            return this.getContainerNode().getBoundingClientRect();\n          }\n        }, {\n          key: \"renderControls\",\n          value: function renderControls() {\n            var _this3 = this;\n\n            var step = this.discreteScaleStepSize();\n            return external_commonjs_react_commonjs2_react_amd_React_root_React_default.a.createElement(src_Controls, {\n              onClickPlus: function onClickPlus() {\n                return _this3.changeScale(step);\n              },\n              onClickMinus: function onClickMinus() {\n                return _this3.changeScale(-step);\n              },\n              plusBtnContents: this.props.plusBtnContents,\n              minusBtnContents: this.props.minusBtnContents,\n              btnClass: this.props.btnClass,\n              plusBtnClass: this.props.plusBtnClass,\n              minusBtnClass: this.props.minusBtnClass,\n              controlsClass: this.props.controlsClass,\n              scale: this.props.value.scale,\n              minScale: this.props.minScale,\n              maxScale: this.props.maxScale,\n              disableZoom: this.props.disableZoom\n            });\n          }\n        }, {\n          key: \"render\",\n          value: function render() {\n            var _this4 = this;\n\n            var _this$props4 = this.props,\n                showControls = _this$props4.showControls,\n                children = _this$props4.children;\n            var scale = this.props.value.scale; // Defensively clamp the translation. This should not be necessary if we properly set state elsewhere.\n\n            var translation = this.clampTranslation(this.props.value.translation);\n            /*\n              This is a little trick to allow the following ux: We want the parent of this\n              component to decide if elements inside the map are clickable. Normally, you wouldn't\n              want to trigger a click event when the user *drags* on an element (only if they click\n              and then release w/o dragging at all). However we don't want to assume this\n              behavior here, so we call `preventDefault` and then let the parent check\n              `e.defaultPrevented`. That value being true means that we are signalling that\n              a drag event ended, not a click.\n            */\n\n            var handleEventCapture = function handleEventCapture(e) {\n              if (_this4.state.shouldPreventTouchEndDefault) {\n                e.preventDefault();\n\n                _this4.setState({\n                  shouldPreventTouchEndDefault: false\n                });\n              }\n            };\n\n            return external_commonjs_react_commonjs2_react_amd_React_root_React_default.a.createElement(\"div\", {\n              ref: function ref(node) {\n                _this4.containerNode = node;\n              },\n              style: {\n                height: '100%',\n                width: '100%',\n                position: 'relative',\n                // for absolutely positioned children\n                touchAction: 'none'\n              },\n              onClickCapture: handleEventCapture,\n              onTouchEndCapture: handleEventCapture\n            }, (children || undefined) && children({\n              translation: translation,\n              scale: scale\n            }), (showControls || undefined) && this.renderControls());\n          }\n        }]);\n        return MapInteractionControlled;\n      }(external_commonjs_react_commonjs2_react_amd_React_root_React_[\"Component\"]);\n      /*\n        Main entry point component.\n        Determines if it's parent is controlling (eg it manages state) or leaving us uncontrolled\n        (eg we manage our own internal state)\n      */\n\n\n      var MapInteraction_MapInteractionController = /*#__PURE__*/function (_Component2) {\n        MapInteraction_inherits(MapInteractionController, _Component2);\n        MapInteraction_createClass(MapInteractionController, null, [{\n          key: \"propTypes\",\n          get: function get() {\n            return {\n              children: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.func,\n              value: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.shape({\n                scale: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number.isRequired,\n                translation: translationShape.isRequired\n              }),\n              defaultValue: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.shape({\n                scale: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number.isRequired,\n                translation: translationShape.isRequired\n              }),\n              disableZoom: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.bool,\n              disablePan: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.bool,\n              onChange: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.func,\n              translationBounds: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.shape({\n                xMin: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number,\n                xMax: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number,\n                yMin: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number,\n                yMax: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number\n              }),\n              minScale: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number,\n              maxScale: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number,\n              showControls: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.bool,\n              plusBtnContents: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.node,\n              minusBtnContents: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.node,\n              btnClass: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.string,\n              plusBtnClass: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.string,\n              minusBtnClass: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.string,\n              controlsClass: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.string\n            };\n          }\n        }]);\n\n        function MapInteractionController(props) {\n          var _this5;\n\n          MapInteraction_classCallCheck(this, MapInteractionController);\n          _this5 = MapInteraction_possibleConstructorReturn(this, MapInteraction_getPrototypeOf(MapInteractionController).call(this, props));\n          var controlled = MapInteractionController.isControlled(props);\n\n          if (controlled) {\n            _this5.state = {\n              lastKnownValueFromProps: props.value\n            };\n          } else {\n            // Set the necessary state for controlling map interaction ourselves\n            _this5.state = {\n              value: props.defaultValue || {\n                scale: 1,\n                translation: {\n                  x: 0,\n                  y: 0\n                }\n              },\n              lastKnownValueFromProps: undefined\n            };\n          }\n\n          return _this5;\n        }\n        /*\n          Handle the parent switchg form controlled to uncontrolled or vice versa.\n          This is at most a best-effort attempt. It is not gauranteed by our API\n          but it will do its best to maintain the state such that if the parent\n          accidentally switches between controlled/uncontrolled there won't be\n          any jankiness or jumpiness.\n           This tries to mimick how the React <input /> component behaves.\n        */\n\n\n        MapInteraction_createClass(MapInteractionController, [{\n          key: \"innerProps\",\n          // The subset of this component's props that need to be passed\n          // down to the core RMI component\n          value: function innerProps() {\n            var _this$props5 = this.props,\n                value = _this$props5.value,\n                defaultValue = _this$props5.defaultValue,\n                onChange = _this$props5.onChange,\n                innerProps = _objectWithoutProperties(_this$props5, [\"value\", \"defaultValue\", \"onChange\"]);\n\n            return innerProps;\n          }\n        }, {\n          key: \"getValue\",\n          value: function getValue() {\n            var controlled = MapInteractionController.isControlled(this.props);\n            return controlled ? this.props.value : this.state.value;\n          }\n        }, {\n          key: \"render\",\n          value: function render() {\n            var _this6 = this;\n\n            var _this$props6 = this.props,\n                _onChange = _this$props6.onChange,\n                children = _this$props6.children;\n            var controlled = MapInteractionController.isControlled(this.props);\n            var value = controlled ? this.props.value : this.state.value;\n            return external_commonjs_react_commonjs2_react_amd_React_root_React_default.a.createElement(MapInteraction_MapInteractionControlled, _extends({\n              onChange: function onChange(value) {\n                controlled ? _onChange(value) : _this6.setState({\n                  value: value\n                });\n              },\n              value: value\n            }, this.innerProps()), children);\n          }\n        }], [{\n          key: \"getDerivedStateFromProps\",\n          value: function getDerivedStateFromProps(props, state) {\n            var nowControlled = MapInteractionController.isControlled(props);\n            var wasControlled = state.lastKnownValueFromProps && MapInteractionController.isControlled({\n              value: state.lastKnownValueFromProps\n            });\n            /*\n              State transitions:\n                uncontrolled --> controlled   (unset internal state, set last props from parent)\n                controlled   --> uncontrolled (set internal state to last props from parent)\n                controlled   --> controlled   (update last props from parent)\n                uncontrolled --> uncontrolled (do nothing)\n               Note that the second two (no change in control) will also happen on the\n              initial render because we set lastKnownValueFromProps in the constructor.\n            */\n\n            if (!wasControlled && nowControlled) {\n              return {\n                value: undefined,\n                lastKnownValueFromProps: props.value\n              };\n            } else if (wasControlled && !nowControlled) {\n              return {\n                value: state.lastKnownValueFromProps,\n                lastKnownValueFromProps: undefined\n              };\n            } else if (wasControlled && nowControlled) {\n              return {\n                lastKnownValueFromProps: props.value\n              };\n            } else if (!wasControlled && !nowControlled) {\n              return null;\n            }\n          }\n        }, {\n          key: \"isControlled\",\n          value: function isControlled(props) {\n            // Similar to React's <input /> API, setting a value declares\n            // that you want to control this component.\n            return props.value != undefined;\n          }\n        }]);\n        return MapInteractionController;\n      }(external_commonjs_react_commonjs2_react_amd_React_root_React_[\"Component\"]);\n      /* harmony default export */\n\n\n      var MapInteraction = MapInteraction_MapInteractionController; // CONCATENATED MODULE: ./src/MapInteractionCSS.jsx\n\n      /*\n        This component provides a map like interaction to any content that you place in it. It will let\n        the user zoom and pan the children by scaling and translating props.children using css.\n      */\n\n      var MapInteractionCSS_MapInteractionCSS = function MapInteractionCSS(props) {\n        return external_commonjs_react_commonjs2_react_amd_React_root_React_default.a.createElement(MapInteraction, props, function (_ref) {\n          var translation = _ref.translation,\n              scale = _ref.scale; // Translate first and then scale.  Otherwise, the scale would affect the translation.\n\n          var transform = \"translate(\".concat(translation.x, \"px, \").concat(translation.y, \"px) scale(\").concat(scale, \")\");\n          return external_commonjs_react_commonjs2_react_amd_React_root_React_default.a.createElement(\"div\", {\n            style: {\n              height: '100%',\n              width: '100%',\n              position: 'relative',\n              // for absolutely positioned children\n              overflow: 'hidden',\n              touchAction: 'none',\n              // Not supported in Safari :(\n              msTouchAction: 'none',\n              cursor: 'all-scroll',\n              WebkitUserSelect: 'none',\n              MozUserSelect: 'none',\n              msUserSelect: 'none'\n            }\n          }, external_commonjs_react_commonjs2_react_amd_React_root_React_default.a.createElement(\"div\", {\n            style: {\n              display: 'inline-block',\n              // size to content\n              transform: transform,\n              transformOrigin: '0 0 '\n            }\n          }, props.children));\n        });\n      };\n      /* harmony default export */\n\n\n      var src_MapInteractionCSS = MapInteractionCSS_MapInteractionCSS; // CONCATENATED MODULE: ./src/index.js\n\n      /* concated harmony reexport MapInteractionCSS */\n\n      __webpack_require__.d(__webpack_exports__, \"MapInteractionCSS\", function () {\n        return src_MapInteractionCSS;\n      });\n      /* concated harmony reexport MapInteraction */\n\n\n      __webpack_require__.d(__webpack_exports__, \"MapInteraction\", function () {\n        return MapInteraction;\n      });\n      /* harmony default export */\n\n\n      var src = __webpack_exports__[\"default\"] = MapInteraction;\n      /***/\n    }\n    /******/\n    ])\n  );\n});","map":{"version":3,"sources":["/home/jun/foodbank/node_modules/react-map-interaction/dist/react-map-interaction.js"],"names":["webpackUniversalModuleDefinition","root","factory","exports","module","require","define","amd","__WEBPACK_EXTERNAL_MODULE__0__","__WEBPACK_EXTERNAL_MODULE__1__","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","external_commonjs_react_commonjs2_react_amd_React_root_React_","external_commonjs_react_commonjs2_react_amd_React_root_React_default","external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_","external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default","_typeof","obj","iterator","constructor","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","length","descriptor","configurable","writable","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","_inherits","subClass","superClass","_setPrototypeOf","Controls_Controls","_Component","Controls","apply","arguments","render","_this","_this$props","plusBtnContents","minusBtnContents","btnClass","plusBtnClass","minusBtnClass","controlsClass","scale","minScale","maxScale","onClickPlus","onClickMinus","disableZoom","btnStyle","width","paddingTop","marginBottom","controlsStyle","undefined","position","right","top","plusHandler","e","preventDefault","blur","minusHandler","a","createElement","style","className","ref","node","plusNode","onClick","onTouchEnd","join","type","disabled","minusNode","propTypes","func","isRequired","string","number","bool","defaultProps","src_Controls","clamp","min","max","Math","distance","p1","p2","dx","x","dy","y","sqrt","pow","midpoint","touchPt","touch","clientX","clientY","touchDistance","t0","t1","p0","passiveSupported","options","passive","window","addEventListener","removeEventListener","_unused","makePassiveEventOption","src_makePassiveEventOption","MapInteraction_typeof","_extends","assign","source","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","indexOf","propertyIsEnumerable","sourceKeys","keys","_objectSpread","ownKeys","concat","filter","sym","getOwnPropertyDescriptor","forEach","_defineProperty","MapInteraction_classCallCheck","MapInteraction_possibleConstructorReturn","MapInteraction_assertThisInitialized","MapInteraction_getPrototypeOf","MapInteraction_defineProperties","MapInteraction_createClass","MapInteraction_inherits","MapInteraction_setPrototypeOf","coordChange","coordinate","scaleRatio","translationShape","shape","MapInteraction_MapInteractionControlled","MapInteractionControlled","children","translation","onChange","disablePan","translationBounds","xMin","xMax","yMin","yMax","showControls","state","shouldPreventTouchEndDefault","startPointerInfo","onMouseDown","onTouchStart","onMouseMove","onTouchMove","onMouseUp","onWheel","componentDidMount","passiveOption","getContainerNode","touchAndMouseEndOptions","capture","componentWillUnmount","setPointerState","touches","onDrag","isPinchAction","pointers","scaleFromMultiTouch","pointer","_this2","_this$startPointerInf","startPointer","dragX","dragY","newTranslation","abs","setState","clampTranslation","stopPropagation","scaleChange","deltaY","newScale","mousePos","clientPosToTranslatedPos","scaleFromPoint","desiredTranslation","_props$translationBou","Infinity","translatedOrigin","clientOffset","getContainerBoundingClientRect","left","_ref","origin","focalPt","_this$props$value","focalPtDelta","startTouches","newTouches","dist0","dist1","startScale","targetScale","startMidpoint","newMidPoint","dragDelta","discreteScaleStepSize","_this$props2","delta","changeScale","_this$props3","rect","height","focalPoint","containerNode","getBoundingClientRect","renderControls","_this3","step","_this4","_this$props4","handleEventCapture","touchAction","onClickCapture","onTouchEndCapture","MapInteraction_MapInteractionController","_Component2","MapInteractionController","defaultValue","_this5","controlled","isControlled","lastKnownValueFromProps","innerProps","_this$props5","getValue","_this6","_this$props6","_onChange","getDerivedStateFromProps","nowControlled","wasControlled","MapInteraction","MapInteractionCSS_MapInteractionCSS","MapInteractionCSS","transform","overflow","msTouchAction","cursor","WebkitUserSelect","MozUserSelect","msUserSelect","display","transformOrigin","src_MapInteractionCSS","src"],"mappings":"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","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"prop-types\"), require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"prop-types\", \"React\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReactMapInteraction\"] = factory(require(\"prop-types\"), require(\"react\"));\n\telse\n\t\troot[\"ReactMapInteraction\"] = factory(root[\"PropTypes\"], root[\"React\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE__0__, __WEBPACK_EXTERNAL_MODULE__1__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 2);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE__0__;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE__1__;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: external {\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"React\",\"root\":\"React\"}\nvar external_commonjs_react_commonjs2_react_amd_React_root_React_ = __webpack_require__(1);\nvar external_commonjs_react_commonjs2_react_amd_React_root_React_default = /*#__PURE__*/__webpack_require__.n(external_commonjs_react_commonjs2_react_amd_React_root_React_);\n\n// EXTERNAL MODULE: external {\"commonjs\":\"prop-types\",\"commonjs2\":\"prop-types\",\"commonj2s\":\"prop-types\",\"amd\":\"prop-types\",\"root\":\"PropTypes\"}\nvar external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_ = __webpack_require__(0);\nvar external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default = /*#__PURE__*/__webpack_require__.n(external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_);\n\n// CONCATENATED MODULE: ./src/Controls.jsx\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n\n\n\nvar Controls_Controls =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Controls, _Component);\n\n  function Controls() {\n    _classCallCheck(this, Controls);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Controls).apply(this, arguments));\n  }\n\n  _createClass(Controls, [{\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      var _this$props = this.props,\n          plusBtnContents = _this$props.plusBtnContents,\n          minusBtnContents = _this$props.minusBtnContents,\n          btnClass = _this$props.btnClass,\n          plusBtnClass = _this$props.plusBtnClass,\n          minusBtnClass = _this$props.minusBtnClass,\n          controlsClass = _this$props.controlsClass,\n          scale = _this$props.scale,\n          minScale = _this$props.minScale,\n          maxScale = _this$props.maxScale,\n          onClickPlus = _this$props.onClickPlus,\n          onClickMinus = _this$props.onClickMinus,\n          disableZoom = _this$props.disableZoom;\n      var btnStyle = {\n        width: 30,\n        paddingTop: 5,\n        marginBottom: 5\n      };\n      var controlsStyle = controlsClass ? undefined : {\n        position: 'absolute',\n        right: 10,\n        top: 10\n      };\n\n      function plusHandler(e) {\n        e.preventDefault();\n        e.target.blur();\n        if (disableZoom) return;\n        onClickPlus();\n      }\n\n      function minusHandler(e) {\n        e.preventDefault();\n        e.target.blur();\n        if (disableZoom) return;\n        onClickMinus();\n      }\n\n      return external_commonjs_react_commonjs2_react_amd_React_root_React_default.a.createElement(\"div\", {\n        style: controlsStyle,\n        className: controlsClass\n      }, external_commonjs_react_commonjs2_react_amd_React_root_React_default.a.createElement(\"div\", null, external_commonjs_react_commonjs2_react_amd_React_root_React_default.a.createElement(\"button\", {\n        ref: function ref(node) {\n          _this.plusNode = node;\n        },\n        onClick: plusHandler,\n        onTouchEnd: plusHandler,\n        className: [btnClass ? btnClass : '', plusBtnClass ? plusBtnClass : ''].join(' '),\n        type: \"button\",\n        style: btnClass || plusBtnClass ? undefined : btnStyle,\n        disabled: disableZoom || scale >= maxScale\n      }, plusBtnContents)), external_commonjs_react_commonjs2_react_amd_React_root_React_default.a.createElement(\"div\", null, external_commonjs_react_commonjs2_react_amd_React_root_React_default.a.createElement(\"button\", {\n        ref: function ref(node) {\n          _this.minusNode = node;\n        },\n        onClick: minusHandler,\n        onTouchEnd: minusHandler,\n        className: [btnClass ? btnClass : '', minusBtnClass ? minusBtnClass : ''].join(' '),\n        type: \"button\",\n        style: btnClass || minusBtnClass ? undefined : btnStyle,\n        disabled: disableZoom || scale <= minScale\n      }, minusBtnContents)));\n    }\n  }]);\n\n  return Controls;\n}(external_commonjs_react_commonjs2_react_amd_React_root_React_[\"Component\"]);\n\nControls_Controls.propTypes = {\n  onClickPlus: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.func.isRequired,\n  onClickMinus: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.func.isRequired,\n  plusBtnContents: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.node,\n  minusBtnContents: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.node,\n  btnClass: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.string,\n  plusBtnClass: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.string,\n  minusBtnClass: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.string,\n  controlsClass: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.string,\n  scale: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number,\n  minScale: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number,\n  maxScale: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number,\n  disableZoom: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.bool\n};\nControls_Controls.defaultProps = {\n  plusBtnContents: '+',\n  minusBtnContents: '-',\n  disableZoom: false\n};\n/* harmony default export */ var src_Controls = (Controls_Controls);\n// CONCATENATED MODULE: ./src/geometry.js\nfunction clamp(min, value, max) {\n  return Math.max(min, Math.min(value, max));\n}\n\nfunction distance(p1, p2) {\n  var dx = p1.x - p2.x;\n  var dy = p1.y - p2.y;\n  return Math.sqrt(Math.pow(dx, 2) + Math.pow(dy, 2));\n}\n\nfunction midpoint(p1, p2) {\n  return {\n    x: (p1.x + p2.x) / 2,\n    y: (p1.y + p2.y) / 2\n  };\n}\n\nfunction touchPt(touch) {\n  return {\n    x: touch.clientX,\n    y: touch.clientY\n  };\n}\n\nfunction touchDistance(t0, t1) {\n  var p0 = touchPt(t0);\n  var p1 = touchPt(t1);\n  return distance(p0, p1);\n}\n\n\n// CONCATENATED MODULE: ./src/makePassiveEventOption.js\n// We want to make event listeners non-passive, and to do so have to check\n// that browsers support EventListenerOptions in the first place.\n// https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Safely_detecting_option_support\nvar passiveSupported = false;\n\ntry {\n  var options = {\n    get passive() {\n      passiveSupported = true;\n    }\n\n  };\n  window.addEventListener(\"test\", options, options);\n  window.removeEventListener(\"test\", options, options);\n} catch (_unused) {\n  passiveSupported = false;\n}\n\nfunction makePassiveEventOption(passive) {\n  return passiveSupported ? {\n    passive: passive\n  } : passive;\n}\n\n/* harmony default export */ var src_makePassiveEventOption = (makePassiveEventOption);\n// CONCATENATED MODULE: ./src/MapInteraction.jsx\nfunction MapInteraction_typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { MapInteraction_typeof = function _typeof(obj) { return typeof obj; }; } else { MapInteraction_typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return MapInteraction_typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction MapInteraction_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction MapInteraction_possibleConstructorReturn(self, call) { if (call && (MapInteraction_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return MapInteraction_assertThisInitialized(self); }\n\nfunction MapInteraction_getPrototypeOf(o) { MapInteraction_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return MapInteraction_getPrototypeOf(o); }\n\nfunction MapInteraction_assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction MapInteraction_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction MapInteraction_createClass(Constructor, protoProps, staticProps) { if (protoProps) MapInteraction_defineProperties(Constructor.prototype, protoProps); if (staticProps) MapInteraction_defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction MapInteraction_inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) MapInteraction_setPrototypeOf(subClass, superClass); }\n\nfunction MapInteraction_setPrototypeOf(o, p) { MapInteraction_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return MapInteraction_setPrototypeOf(o, p); }\n\n\n\n\n\n // The amount that a value of a dimension will change given a new scale\n\nvar coordChange = function coordChange(coordinate, scaleRatio) {\n  return scaleRatio * coordinate - coordinate;\n};\n\nvar translationShape = external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.shape({\n  x: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number,\n  y: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number\n});\n/*\n  This contains logic for providing a map-like interaction to any DOM node.\n  It allows a user to pinch, zoom, translate, etc, as they would an interactive map.\n  It renders its children with the current state of the translation and does not do any scaling\n  or translating on its own. This works on both desktop, and mobile.\n*/\n\nvar MapInteraction_MapInteractionControlled =\n/*#__PURE__*/\nfunction (_Component) {\n  MapInteraction_inherits(MapInteractionControlled, _Component);\n\n  MapInteraction_createClass(MapInteractionControlled, null, [{\n    key: \"propTypes\",\n    get: function get() {\n      return {\n        // The content that will be transformed\n        children: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.func,\n        // This is a controlled component\n        value: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.shape({\n          scale: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number.isRequired,\n          translation: translationShape.isRequired\n        }).isRequired,\n        onChange: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.func.isRequired,\n        disableZoom: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.bool,\n        disablePan: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.bool,\n        translationBounds: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.shape({\n          xMin: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number,\n          xMax: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number,\n          yMin: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number,\n          yMax: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number\n        }),\n        minScale: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number,\n        maxScale: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number,\n        showControls: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.bool,\n        plusBtnContents: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.node,\n        minusBtnContents: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.node,\n        btnClass: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.string,\n        plusBtnClass: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.string,\n        minusBtnClass: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.string,\n        controlsClass: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.string\n      };\n    }\n  }, {\n    key: \"defaultProps\",\n    get: function get() {\n      return {\n        minScale: 0.05,\n        maxScale: 3,\n        showControls: false,\n        translationBounds: {},\n        disableZoom: false,\n        disablePan: false\n      };\n    }\n  }]);\n\n  function MapInteractionControlled(props) {\n    var _this;\n\n    MapInteraction_classCallCheck(this, MapInteractionControlled);\n\n    _this = MapInteraction_possibleConstructorReturn(this, MapInteraction_getPrototypeOf(MapInteractionControlled).call(this, props));\n    _this.state = {\n      shouldPreventTouchEndDefault: false\n    };\n    _this.startPointerInfo = undefined;\n    _this.onMouseDown = _this.onMouseDown.bind(MapInteraction_assertThisInitialized(_this));\n    _this.onTouchStart = _this.onTouchStart.bind(MapInteraction_assertThisInitialized(_this));\n    _this.onMouseMove = _this.onMouseMove.bind(MapInteraction_assertThisInitialized(_this));\n    _this.onTouchMove = _this.onTouchMove.bind(MapInteraction_assertThisInitialized(_this));\n    _this.onMouseUp = _this.onMouseUp.bind(MapInteraction_assertThisInitialized(_this));\n    _this.onTouchEnd = _this.onTouchEnd.bind(MapInteraction_assertThisInitialized(_this));\n    _this.onWheel = _this.onWheel.bind(MapInteraction_assertThisInitialized(_this));\n    return _this;\n  }\n\n  MapInteraction_createClass(MapInteractionControlled, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var passiveOption = src_makePassiveEventOption(false);\n      this.getContainerNode().addEventListener('wheel', this.onWheel, passiveOption);\n      /*\n        Setup events for the gesture lifecycle: start, move, end touch\n      */\n      // start gesture\n\n      this.getContainerNode().addEventListener('touchstart', this.onTouchStart, passiveOption);\n      this.getContainerNode().addEventListener('mousedown', this.onMouseDown, passiveOption); // move gesture\n\n      window.addEventListener('touchmove', this.onTouchMove, passiveOption);\n      window.addEventListener('mousemove', this.onMouseMove, passiveOption); // end gesture\n\n      var touchAndMouseEndOptions = _objectSpread({\n        capture: true\n      }, passiveOption);\n\n      window.addEventListener('touchend', this.onTouchEnd, touchAndMouseEndOptions);\n      window.addEventListener('mouseup', this.onMouseUp, touchAndMouseEndOptions);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.getContainerNode().removeEventListener('wheel', this.onWheel); // Remove touch events\n\n      this.getContainerNode().removeEventListener('touchstart', this.onTouchStart);\n      window.removeEventListener('touchmove', this.onTouchMove);\n      window.removeEventListener('touchend', this.onTouchEnd); // Remove mouse events\n\n      this.getContainerNode().removeEventListener('mousedown', this.onMouseDown);\n      window.removeEventListener('mousemove', this.onMouseMove);\n      window.removeEventListener('mouseup', this.onMouseUp);\n    }\n    /*\n      Event handlers\n       All touch/mouse handlers preventDefault because we add\n      both touch and mouse handlers in the same session to support devicse\n      with both touch screen and mouse inputs. The browser may fire both\n      a touch and mouse event for a *single* user action, so we have to ensure\n      that only one handler is used by canceling the event in the first handler.\n       https://developer.mozilla.org/en-US/docs/Web/API/Touch_events/Supporting_both_TouchEvent_and_MouseEvent\n    */\n\n  }, {\n    key: \"onMouseDown\",\n    value: function onMouseDown(e) {\n      e.preventDefault();\n      this.setPointerState([e]);\n    }\n  }, {\n    key: \"onTouchStart\",\n    value: function onTouchStart(e) {\n      e.preventDefault();\n      this.setPointerState(e.touches);\n    }\n  }, {\n    key: \"onMouseUp\",\n    value: function onMouseUp(e) {\n      this.setPointerState();\n    }\n  }, {\n    key: \"onTouchEnd\",\n    value: function onTouchEnd(e) {\n      this.setPointerState(e.touches);\n    }\n  }, {\n    key: \"onMouseMove\",\n    value: function onMouseMove(e) {\n      if (!this.startPointerInfo || this.props.disablePan) {\n        return;\n      }\n\n      e.preventDefault();\n      this.onDrag(e);\n    }\n  }, {\n    key: \"onTouchMove\",\n    value: function onTouchMove(e) {\n      if (!this.startPointerInfo) {\n        return;\n      }\n\n      e.preventDefault();\n      var _this$props = this.props,\n          disablePan = _this$props.disablePan,\n          disableZoom = _this$props.disableZoom;\n      var isPinchAction = e.touches.length == 2 && this.startPointerInfo.pointers.length > 1;\n\n      if (isPinchAction && !disableZoom) {\n        this.scaleFromMultiTouch(e);\n      } else if (e.touches.length === 1 && this.startPointerInfo && !disablePan) {\n        this.onDrag(e.touches[0]);\n      }\n    } // handles both touch and mouse drags\n\n  }, {\n    key: \"onDrag\",\n    value: function onDrag(pointer) {\n      var _this2 = this;\n\n      var _this$startPointerInf = this.startPointerInfo,\n          translation = _this$startPointerInf.translation,\n          pointers = _this$startPointerInf.pointers;\n      var startPointer = pointers[0];\n      var dragX = pointer.clientX - startPointer.clientX;\n      var dragY = pointer.clientY - startPointer.clientY;\n      var newTranslation = {\n        x: translation.x + dragX,\n        y: translation.y + dragY\n      };\n      var shouldPreventTouchEndDefault = Math.abs(dragX) > 1 || Math.abs(dragY) > 1;\n      this.setState({\n        shouldPreventTouchEndDefault: shouldPreventTouchEndDefault\n      }, function () {\n        _this2.props.onChange({\n          scale: _this2.props.value.scale,\n          translation: _this2.clampTranslation(newTranslation)\n        });\n      });\n    }\n  }, {\n    key: \"onWheel\",\n    value: function onWheel(e) {\n      if (this.props.disableZoom) {\n        return;\n      }\n\n      e.preventDefault();\n      e.stopPropagation();\n      var scaleChange = Math.pow(2, e.deltaY * 0.002);\n      var newScale = clamp(this.props.minScale, this.props.value.scale + (1 - scaleChange), this.props.maxScale);\n      var mousePos = this.clientPosToTranslatedPos({\n        x: e.clientX,\n        y: e.clientY\n      });\n      this.scaleFromPoint(newScale, mousePos);\n    }\n  }, {\n    key: \"setPointerState\",\n    value: function setPointerState(pointers) {\n      if (!pointers || pointers.length === 0) {\n        this.startPointerInfo = undefined;\n        return;\n      }\n\n      this.startPointerInfo = {\n        pointers: pointers,\n        scale: this.props.value.scale,\n        translation: this.props.value.translation\n      };\n    }\n  }, {\n    key: \"clampTranslation\",\n    value: function clampTranslation(desiredTranslation) {\n      var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.props;\n      var x = desiredTranslation.x,\n          y = desiredTranslation.y;\n      var _props$translationBou = props.translationBounds,\n          xMax = _props$translationBou.xMax,\n          xMin = _props$translationBou.xMin,\n          yMax = _props$translationBou.yMax,\n          yMin = _props$translationBou.yMin;\n      xMin = xMin != undefined ? xMin : -Infinity;\n      yMin = yMin != undefined ? yMin : -Infinity;\n      xMax = xMax != undefined ? xMax : Infinity;\n      yMax = yMax != undefined ? yMax : Infinity;\n      return {\n        x: clamp(xMin, x, xMax),\n        y: clamp(yMin, y, yMax)\n      };\n    }\n  }, {\n    key: \"translatedOrigin\",\n    value: function translatedOrigin() {\n      var translation = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props.value.translation;\n      var clientOffset = this.getContainerBoundingClientRect();\n      return {\n        x: clientOffset.left + translation.x,\n        y: clientOffset.top + translation.y\n      };\n    } // From a given screen point return it as a point\n    // in the coordinate system of the given translation\n\n  }, {\n    key: \"clientPosToTranslatedPos\",\n    value: function clientPosToTranslatedPos(_ref) {\n      var x = _ref.x,\n          y = _ref.y;\n      var translation = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.props.value.translation;\n      var origin = this.translatedOrigin(translation);\n      return {\n        x: x - origin.x,\n        y: y - origin.y\n      };\n    }\n  }, {\n    key: \"scaleFromPoint\",\n    value: function scaleFromPoint(newScale, focalPt) {\n      var _this$props$value = this.props.value,\n          translation = _this$props$value.translation,\n          scale = _this$props$value.scale;\n      var scaleRatio = newScale / (scale != 0 ? scale : 1);\n      var focalPtDelta = {\n        x: coordChange(focalPt.x, scaleRatio),\n        y: coordChange(focalPt.y, scaleRatio)\n      };\n      var newTranslation = {\n        x: translation.x - focalPtDelta.x,\n        y: translation.y - focalPtDelta.y\n      };\n      this.props.onChange({\n        scale: newScale,\n        translation: this.clampTranslation(newTranslation)\n      });\n    } // Given the start touches and new e.touches, scale and translate\n    // such that the initial midpoint remains as the new midpoint. This is\n    // to achieve the effect of keeping the content that was directly\n    // in the middle of the two fingers as the focal point throughout the zoom.\n\n  }, {\n    key: \"scaleFromMultiTouch\",\n    value: function scaleFromMultiTouch(e) {\n      var startTouches = this.startPointerInfo.pointers;\n      var newTouches = e.touches; // calculate new scale\n\n      var dist0 = touchDistance(startTouches[0], startTouches[1]);\n      var dist1 = touchDistance(newTouches[0], newTouches[1]);\n      var scaleChange = dist1 / dist0;\n      var startScale = this.startPointerInfo.scale;\n      var targetScale = startScale + (scaleChange - 1) * startScale;\n      var newScale = clamp(this.props.minScale, targetScale, this.props.maxScale); // calculate mid points\n\n      var startMidpoint = midpoint(touchPt(startTouches[0]), touchPt(startTouches[1]));\n      var newMidPoint = midpoint(touchPt(newTouches[0]), touchPt(newTouches[1])); // The amount we need to translate by in order for\n      // the mid point to stay in the middle (before thinking about scaling factor)\n\n      var dragDelta = {\n        x: newMidPoint.x - startMidpoint.x,\n        y: newMidPoint.y - startMidpoint.y\n      };\n      var scaleRatio = newScale / startScale; // The point originally in the middle of the fingers on the initial zoom start\n\n      var focalPt = this.clientPosToTranslatedPos(startMidpoint, this.startPointerInfo.translation); // The amount that the middle point has changed from this scaling\n\n      var focalPtDelta = {\n        x: coordChange(focalPt.x, scaleRatio),\n        y: coordChange(focalPt.y, scaleRatio)\n      }; // Translation is the original translation, plus the amount we dragged,\n      // minus what the scaling will do to the focal point. Subtracting the\n      // scaling factor keeps the midpoint in the middle of the touch points.\n\n      var newTranslation = {\n        x: this.startPointerInfo.translation.x - focalPtDelta.x + dragDelta.x,\n        y: this.startPointerInfo.translation.y - focalPtDelta.y + dragDelta.y\n      };\n      this.props.onChange({\n        scale: newScale,\n        translation: this.clampTranslation(newTranslation)\n      });\n    }\n  }, {\n    key: \"discreteScaleStepSize\",\n    value: function discreteScaleStepSize() {\n      var _this$props2 = this.props,\n          minScale = _this$props2.minScale,\n          maxScale = _this$props2.maxScale;\n      var delta = Math.abs(maxScale - minScale);\n      return delta / 10;\n    } // Scale using the center of the content as a focal point\n\n  }, {\n    key: \"changeScale\",\n    value: function changeScale(delta) {\n      var targetScale = this.props.value.scale + delta;\n      var _this$props3 = this.props,\n          minScale = _this$props3.minScale,\n          maxScale = _this$props3.maxScale;\n      var scale = clamp(minScale, targetScale, maxScale);\n      var rect = this.getContainerBoundingClientRect();\n      var x = rect.left + rect.width / 2;\n      var y = rect.top + rect.height / 2;\n      var focalPoint = this.clientPosToTranslatedPos({\n        x: x,\n        y: y\n      });\n      this.scaleFromPoint(scale, focalPoint);\n    } // Done like this so it is mockable\n\n  }, {\n    key: \"getContainerNode\",\n    value: function getContainerNode() {\n      return this.containerNode;\n    }\n  }, {\n    key: \"getContainerBoundingClientRect\",\n    value: function getContainerBoundingClientRect() {\n      return this.getContainerNode().getBoundingClientRect();\n    }\n  }, {\n    key: \"renderControls\",\n    value: function renderControls() {\n      var _this3 = this;\n\n      var step = this.discreteScaleStepSize();\n      return external_commonjs_react_commonjs2_react_amd_React_root_React_default.a.createElement(src_Controls, {\n        onClickPlus: function onClickPlus() {\n          return _this3.changeScale(step);\n        },\n        onClickMinus: function onClickMinus() {\n          return _this3.changeScale(-step);\n        },\n        plusBtnContents: this.props.plusBtnContents,\n        minusBtnContents: this.props.minusBtnContents,\n        btnClass: this.props.btnClass,\n        plusBtnClass: this.props.plusBtnClass,\n        minusBtnClass: this.props.minusBtnClass,\n        controlsClass: this.props.controlsClass,\n        scale: this.props.value.scale,\n        minScale: this.props.minScale,\n        maxScale: this.props.maxScale,\n        disableZoom: this.props.disableZoom\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var _this$props4 = this.props,\n          showControls = _this$props4.showControls,\n          children = _this$props4.children;\n      var scale = this.props.value.scale; // Defensively clamp the translation. This should not be necessary if we properly set state elsewhere.\n\n      var translation = this.clampTranslation(this.props.value.translation);\n      /*\n        This is a little trick to allow the following ux: We want the parent of this\n        component to decide if elements inside the map are clickable. Normally, you wouldn't\n        want to trigger a click event when the user *drags* on an element (only if they click\n        and then release w/o dragging at all). However we don't want to assume this\n        behavior here, so we call `preventDefault` and then let the parent check\n        `e.defaultPrevented`. That value being true means that we are signalling that\n        a drag event ended, not a click.\n      */\n\n      var handleEventCapture = function handleEventCapture(e) {\n        if (_this4.state.shouldPreventTouchEndDefault) {\n          e.preventDefault();\n\n          _this4.setState({\n            shouldPreventTouchEndDefault: false\n          });\n        }\n      };\n\n      return external_commonjs_react_commonjs2_react_amd_React_root_React_default.a.createElement(\"div\", {\n        ref: function ref(node) {\n          _this4.containerNode = node;\n        },\n        style: {\n          height: '100%',\n          width: '100%',\n          position: 'relative',\n          // for absolutely positioned children\n          touchAction: 'none'\n        },\n        onClickCapture: handleEventCapture,\n        onTouchEndCapture: handleEventCapture\n      }, (children || undefined) && children({\n        translation: translation,\n        scale: scale\n      }), (showControls || undefined) && this.renderControls());\n    }\n  }]);\n\n  return MapInteractionControlled;\n}(external_commonjs_react_commonjs2_react_amd_React_root_React_[\"Component\"]);\n/*\n  Main entry point component.\n  Determines if it's parent is controlling (eg it manages state) or leaving us uncontrolled\n  (eg we manage our own internal state)\n*/\n\nvar MapInteraction_MapInteractionController =\n/*#__PURE__*/\nfunction (_Component2) {\n  MapInteraction_inherits(MapInteractionController, _Component2);\n\n  MapInteraction_createClass(MapInteractionController, null, [{\n    key: \"propTypes\",\n    get: function get() {\n      return {\n        children: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.func,\n        value: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.shape({\n          scale: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number.isRequired,\n          translation: translationShape.isRequired\n        }),\n        defaultValue: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.shape({\n          scale: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number.isRequired,\n          translation: translationShape.isRequired\n        }),\n        disableZoom: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.bool,\n        disablePan: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.bool,\n        onChange: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.func,\n        translationBounds: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.shape({\n          xMin: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number,\n          xMax: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number,\n          yMin: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number,\n          yMax: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number\n        }),\n        minScale: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number,\n        maxScale: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number,\n        showControls: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.bool,\n        plusBtnContents: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.node,\n        minusBtnContents: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.node,\n        btnClass: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.string,\n        plusBtnClass: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.string,\n        minusBtnClass: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.string,\n        controlsClass: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.string\n      };\n    }\n  }]);\n\n  function MapInteractionController(props) {\n    var _this5;\n\n    MapInteraction_classCallCheck(this, MapInteractionController);\n\n    _this5 = MapInteraction_possibleConstructorReturn(this, MapInteraction_getPrototypeOf(MapInteractionController).call(this, props));\n    var controlled = MapInteractionController.isControlled(props);\n\n    if (controlled) {\n      _this5.state = {\n        lastKnownValueFromProps: props.value\n      };\n    } else {\n      // Set the necessary state for controlling map interaction ourselves\n      _this5.state = {\n        value: props.defaultValue || {\n          scale: 1,\n          translation: {\n            x: 0,\n            y: 0\n          }\n        },\n        lastKnownValueFromProps: undefined\n      };\n    }\n\n    return _this5;\n  }\n  /*\n    Handle the parent switchg form controlled to uncontrolled or vice versa.\n    This is at most a best-effort attempt. It is not gauranteed by our API\n    but it will do its best to maintain the state such that if the parent\n    accidentally switches between controlled/uncontrolled there won't be\n    any jankiness or jumpiness.\n     This tries to mimick how the React <input /> component behaves.\n  */\n\n\n  MapInteraction_createClass(MapInteractionController, [{\n    key: \"innerProps\",\n    // The subset of this component's props that need to be passed\n    // down to the core RMI component\n    value: function innerProps() {\n      var _this$props5 = this.props,\n          value = _this$props5.value,\n          defaultValue = _this$props5.defaultValue,\n          onChange = _this$props5.onChange,\n          innerProps = _objectWithoutProperties(_this$props5, [\"value\", \"defaultValue\", \"onChange\"]);\n\n      return innerProps;\n    }\n  }, {\n    key: \"getValue\",\n    value: function getValue() {\n      var controlled = MapInteractionController.isControlled(this.props);\n      return controlled ? this.props.value : this.state.value;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this6 = this;\n\n      var _this$props6 = this.props,\n          _onChange = _this$props6.onChange,\n          children = _this$props6.children;\n      var controlled = MapInteractionController.isControlled(this.props);\n      var value = controlled ? this.props.value : this.state.value;\n      return external_commonjs_react_commonjs2_react_amd_React_root_React_default.a.createElement(MapInteraction_MapInteractionControlled, _extends({\n        onChange: function onChange(value) {\n          controlled ? _onChange(value) : _this6.setState({\n            value: value\n          });\n        },\n        value: value\n      }, this.innerProps()), children);\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(props, state) {\n      var nowControlled = MapInteractionController.isControlled(props);\n      var wasControlled = state.lastKnownValueFromProps && MapInteractionController.isControlled({\n        value: state.lastKnownValueFromProps\n      });\n      /*\n        State transitions:\n          uncontrolled --> controlled   (unset internal state, set last props from parent)\n          controlled   --> uncontrolled (set internal state to last props from parent)\n          controlled   --> controlled   (update last props from parent)\n          uncontrolled --> uncontrolled (do nothing)\n         Note that the second two (no change in control) will also happen on the\n        initial render because we set lastKnownValueFromProps in the constructor.\n      */\n\n      if (!wasControlled && nowControlled) {\n        return {\n          value: undefined,\n          lastKnownValueFromProps: props.value\n        };\n      } else if (wasControlled && !nowControlled) {\n        return {\n          value: state.lastKnownValueFromProps,\n          lastKnownValueFromProps: undefined\n        };\n      } else if (wasControlled && nowControlled) {\n        return {\n          lastKnownValueFromProps: props.value\n        };\n      } else if (!wasControlled && !nowControlled) {\n        return null;\n      }\n    }\n  }, {\n    key: \"isControlled\",\n    value: function isControlled(props) {\n      // Similar to React's <input /> API, setting a value declares\n      // that you want to control this component.\n      return props.value != undefined;\n    }\n  }]);\n\n  return MapInteractionController;\n}(external_commonjs_react_commonjs2_react_amd_React_root_React_[\"Component\"]);\n\n/* harmony default export */ var MapInteraction = (MapInteraction_MapInteractionController);\n// CONCATENATED MODULE: ./src/MapInteractionCSS.jsx\n\n\n/*\n  This component provides a map like interaction to any content that you place in it. It will let\n  the user zoom and pan the children by scaling and translating props.children using css.\n*/\n\nvar MapInteractionCSS_MapInteractionCSS = function MapInteractionCSS(props) {\n  return external_commonjs_react_commonjs2_react_amd_React_root_React_default.a.createElement(MapInteraction, props, function (_ref) {\n    var translation = _ref.translation,\n        scale = _ref.scale;\n    // Translate first and then scale.  Otherwise, the scale would affect the translation.\n    var transform = \"translate(\".concat(translation.x, \"px, \").concat(translation.y, \"px) scale(\").concat(scale, \")\");\n    return external_commonjs_react_commonjs2_react_amd_React_root_React_default.a.createElement(\"div\", {\n      style: {\n        height: '100%',\n        width: '100%',\n        position: 'relative',\n        // for absolutely positioned children\n        overflow: 'hidden',\n        touchAction: 'none',\n        // Not supported in Safari :(\n        msTouchAction: 'none',\n        cursor: 'all-scroll',\n        WebkitUserSelect: 'none',\n        MozUserSelect: 'none',\n        msUserSelect: 'none'\n      }\n    }, external_commonjs_react_commonjs2_react_amd_React_root_React_default.a.createElement(\"div\", {\n      style: {\n        display: 'inline-block',\n        // size to content\n        transform: transform,\n        transformOrigin: '0 0 '\n      }\n    }, props.children));\n  });\n};\n\n/* harmony default export */ var src_MapInteractionCSS = (MapInteractionCSS_MapInteractionCSS);\n// CONCATENATED MODULE: ./src/index.js\n/* concated harmony reexport MapInteractionCSS */__webpack_require__.d(__webpack_exports__, \"MapInteractionCSS\", function() { return src_MapInteractionCSS; });\n/* concated harmony reexport MapInteraction */__webpack_require__.d(__webpack_exports__, \"MapInteraction\", function() { return MapInteraction; });\n\n\n\n/* harmony default export */ var src = __webpack_exports__[\"default\"] = (MapInteraction);\n\n/***/ })\n/******/ ]);\n});"]},"metadata":{},"sourceType":"script"}