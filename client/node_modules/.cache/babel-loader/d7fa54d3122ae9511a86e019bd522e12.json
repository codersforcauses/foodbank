{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Util_1 = require(\"./Util\");\n\nvar Validators_1 = require(\"./Validators\");\n\nvar GET = 'get',\n    SET = 'set';\nexports.Factory = {\n  addGetterSetter: function (constructor, attr, def, validator, after) {\n    exports.Factory.addGetter(constructor, attr, def);\n    exports.Factory.addSetter(constructor, attr, validator, after);\n    exports.Factory.addOverloadedGetterSetter(constructor, attr);\n  },\n  addGetter: function (constructor, attr, def) {\n    var method = GET + Util_1.Util._capitalize(attr);\n\n    constructor.prototype[method] = constructor.prototype[method] || function () {\n      var val = this.attrs[attr];\n      return val === undefined ? def : val;\n    };\n  },\n  addSetter: function (constructor, attr, validator, after) {\n    var method = SET + Util_1.Util._capitalize(attr);\n\n    if (!constructor.prototype[method]) {\n      exports.Factory.overWriteSetter(constructor, attr, validator, after);\n    }\n  },\n  overWriteSetter: function (constructor, attr, validator, after) {\n    var method = SET + Util_1.Util._capitalize(attr);\n\n    constructor.prototype[method] = function (val) {\n      if (validator && val !== undefined && val !== null) {\n        val = validator.call(this, val, attr);\n      }\n\n      this._setAttr(attr, val);\n\n      if (after) {\n        after.call(this);\n      }\n\n      return this;\n    };\n  },\n  addComponentsGetterSetter: function (constructor, attr, components, validator, after) {\n    var len = components.length,\n        capitalize = Util_1.Util._capitalize,\n        getter = GET + capitalize(attr),\n        setter = SET + capitalize(attr),\n        n,\n        component;\n\n    constructor.prototype[getter] = function () {\n      var ret = {};\n\n      for (n = 0; n < len; n++) {\n        component = components[n];\n        ret[component] = this.getAttr(attr + capitalize(component));\n      }\n\n      return ret;\n    };\n\n    var basicValidator = Validators_1.getComponentValidator(components);\n\n    constructor.prototype[setter] = function (val) {\n      var oldVal = this.attrs[attr],\n          key;\n\n      if (validator) {\n        val = validator.call(this, val);\n      }\n\n      if (basicValidator) {\n        basicValidator.call(this, val, attr);\n      }\n\n      for (key in val) {\n        if (!val.hasOwnProperty(key)) {\n          continue;\n        }\n\n        this._setAttr(attr + capitalize(key), val[key]);\n      }\n\n      this._fireChangeEvent(attr, oldVal, val);\n\n      if (after) {\n        after.call(this);\n      }\n\n      return this;\n    };\n\n    exports.Factory.addOverloadedGetterSetter(constructor, attr);\n  },\n  addOverloadedGetterSetter: function (constructor, attr) {\n    var capitalizedAttr = Util_1.Util._capitalize(attr),\n        setter = SET + capitalizedAttr,\n        getter = GET + capitalizedAttr;\n\n    constructor.prototype[attr] = function () {\n      if (arguments.length) {\n        this[setter](arguments[0]);\n        return this;\n      }\n\n      return this[getter]();\n    };\n  },\n  addDeprecatedGetterSetter: function (constructor, attr, def, validator) {\n    Util_1.Util.error('Adding deprecated ' + attr);\n\n    var method = GET + Util_1.Util._capitalize(attr);\n\n    var message = attr + ' property is deprecated and will be removed soon. Look at Konva change log for more information.';\n\n    constructor.prototype[method] = function () {\n      Util_1.Util.error(message);\n      var val = this.attrs[attr];\n      return val === undefined ? def : val;\n    };\n\n    exports.Factory.addSetter(constructor, attr, validator, function () {\n      Util_1.Util.error(message);\n    });\n    exports.Factory.addOverloadedGetterSetter(constructor, attr);\n  },\n  backCompat: function (constructor, methods) {\n    Util_1.Util.each(methods, function (oldMethodName, newMethodName) {\n      var method = constructor.prototype[newMethodName];\n\n      var oldGetter = GET + Util_1.Util._capitalize(oldMethodName);\n\n      var oldSetter = SET + Util_1.Util._capitalize(oldMethodName);\n\n      function deprecated() {\n        method.apply(this, arguments);\n        Util_1.Util.error('\"' + oldMethodName + '\" method is deprecated and will be removed soon. Use \"\"' + newMethodName + '\" instead.');\n      }\n\n      constructor.prototype[oldMethodName] = deprecated;\n      constructor.prototype[oldGetter] = deprecated;\n      constructor.prototype[oldSetter] = deprecated;\n    });\n  },\n  afterSetFilter: function () {\n    this._filterUpToDate = false;\n  }\n};","map":{"version":3,"sources":["/home/jun/foodbank/node_modules/konva/lib/Factory.js"],"names":["Object","defineProperty","exports","value","Util_1","require","Validators_1","GET","SET","Factory","addGetterSetter","constructor","attr","def","validator","after","addGetter","addSetter","addOverloadedGetterSetter","method","Util","_capitalize","prototype","val","attrs","undefined","overWriteSetter","call","_setAttr","addComponentsGetterSetter","components","len","length","capitalize","getter","setter","n","component","ret","getAttr","basicValidator","getComponentValidator","oldVal","key","hasOwnProperty","_fireChangeEvent","capitalizedAttr","arguments","addDeprecatedGetterSetter","error","message","backCompat","methods","each","oldMethodName","newMethodName","oldGetter","oldSetter","deprecated","apply","afterSetFilter","_filterUpToDate"],"mappings":"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","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Util_1 = require(\"./Util\");\nvar Validators_1 = require(\"./Validators\");\nvar GET = 'get', SET = 'set';\nexports.Factory = {\n    addGetterSetter: function (constructor, attr, def, validator, after) {\n        exports.Factory.addGetter(constructor, attr, def);\n        exports.Factory.addSetter(constructor, attr, validator, after);\n        exports.Factory.addOverloadedGetterSetter(constructor, attr);\n    },\n    addGetter: function (constructor, attr, def) {\n        var method = GET + Util_1.Util._capitalize(attr);\n        constructor.prototype[method] =\n            constructor.prototype[method] ||\n                function () {\n                    var val = this.attrs[attr];\n                    return val === undefined ? def : val;\n                };\n    },\n    addSetter: function (constructor, attr, validator, after) {\n        var method = SET + Util_1.Util._capitalize(attr);\n        if (!constructor.prototype[method]) {\n            exports.Factory.overWriteSetter(constructor, attr, validator, after);\n        }\n    },\n    overWriteSetter: function (constructor, attr, validator, after) {\n        var method = SET + Util_1.Util._capitalize(attr);\n        constructor.prototype[method] = function (val) {\n            if (validator && val !== undefined && val !== null) {\n                val = validator.call(this, val, attr);\n            }\n            this._setAttr(attr, val);\n            if (after) {\n                after.call(this);\n            }\n            return this;\n        };\n    },\n    addComponentsGetterSetter: function (constructor, attr, components, validator, after) {\n        var len = components.length, capitalize = Util_1.Util._capitalize, getter = GET + capitalize(attr), setter = SET + capitalize(attr), n, component;\n        constructor.prototype[getter] = function () {\n            var ret = {};\n            for (n = 0; n < len; n++) {\n                component = components[n];\n                ret[component] = this.getAttr(attr + capitalize(component));\n            }\n            return ret;\n        };\n        var basicValidator = Validators_1.getComponentValidator(components);\n        constructor.prototype[setter] = function (val) {\n            var oldVal = this.attrs[attr], key;\n            if (validator) {\n                val = validator.call(this, val);\n            }\n            if (basicValidator) {\n                basicValidator.call(this, val, attr);\n            }\n            for (key in val) {\n                if (!val.hasOwnProperty(key)) {\n                    continue;\n                }\n                this._setAttr(attr + capitalize(key), val[key]);\n            }\n            this._fireChangeEvent(attr, oldVal, val);\n            if (after) {\n                after.call(this);\n            }\n            return this;\n        };\n        exports.Factory.addOverloadedGetterSetter(constructor, attr);\n    },\n    addOverloadedGetterSetter: function (constructor, attr) {\n        var capitalizedAttr = Util_1.Util._capitalize(attr), setter = SET + capitalizedAttr, getter = GET + capitalizedAttr;\n        constructor.prototype[attr] = function () {\n            if (arguments.length) {\n                this[setter](arguments[0]);\n                return this;\n            }\n            return this[getter]();\n        };\n    },\n    addDeprecatedGetterSetter: function (constructor, attr, def, validator) {\n        Util_1.Util.error('Adding deprecated ' + attr);\n        var method = GET + Util_1.Util._capitalize(attr);\n        var message = attr +\n            ' property is deprecated and will be removed soon. Look at Konva change log for more information.';\n        constructor.prototype[method] = function () {\n            Util_1.Util.error(message);\n            var val = this.attrs[attr];\n            return val === undefined ? def : val;\n        };\n        exports.Factory.addSetter(constructor, attr, validator, function () {\n            Util_1.Util.error(message);\n        });\n        exports.Factory.addOverloadedGetterSetter(constructor, attr);\n    },\n    backCompat: function (constructor, methods) {\n        Util_1.Util.each(methods, function (oldMethodName, newMethodName) {\n            var method = constructor.prototype[newMethodName];\n            var oldGetter = GET + Util_1.Util._capitalize(oldMethodName);\n            var oldSetter = SET + Util_1.Util._capitalize(oldMethodName);\n            function deprecated() {\n                method.apply(this, arguments);\n                Util_1.Util.error('\"' +\n                    oldMethodName +\n                    '\" method is deprecated and will be removed soon. Use \"\"' +\n                    newMethodName +\n                    '\" instead.');\n            }\n            constructor.prototype[oldMethodName] = deprecated;\n            constructor.prototype[oldGetter] = deprecated;\n            constructor.prototype[oldSetter] = deprecated;\n        });\n    },\n    afterSetFilter: function () {\n        this._filterUpToDate = false;\n    },\n};\n"]},"metadata":{},"sourceType":"script"}