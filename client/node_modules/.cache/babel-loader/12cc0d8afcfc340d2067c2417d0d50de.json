{"ast":null,"code":"// @ts-ignore\nimport isoParse from './util/isodate';\nimport { date as locale } from './locale';\nimport isAbsent from './util/isAbsent';\nimport Ref from './Reference';\nimport BaseSchema from './schema';\nlet invalidDate = new Date('');\n\nlet isDate = obj => Object.prototype.toString.call(obj) === '[object Date]';\n\nexport function create() {\n  return new DateSchema();\n}\nexport default class DateSchema extends BaseSchema {\n  constructor() {\n    super({\n      type: 'date'\n    });\n    this.withMutation(() => {\n      this.transform(function (value) {\n        if (this.isType(value)) return value;\n        value = isoParse(value); // 0 is a valid timestamp equivalent to 1970-01-01T00:00:00Z(unix epoch) or before.\n\n        return !isNaN(value) ? new Date(value) : invalidDate;\n      });\n    });\n  }\n\n  _typeCheck(v) {\n    return isDate(v) && !isNaN(v.getTime());\n  }\n\n  prepareParam(ref, name) {\n    let param;\n\n    if (!Ref.isRef(ref)) {\n      let cast = this.cast(ref);\n      if (!this._typeCheck(cast)) throw new TypeError(`\\`${name}\\` must be a Date or a value that can be \\`cast()\\` to a Date`);\n      param = cast;\n    } else {\n      param = ref;\n    }\n\n    return param;\n  }\n\n  min(min, message = locale.min) {\n    let limit = this.prepareParam(min, 'min');\n    return this.test({\n      message,\n      name: 'min',\n      exclusive: true,\n      params: {\n        min\n      },\n\n      test(value) {\n        return isAbsent(value) || value >= this.resolve(limit);\n      }\n\n    });\n  }\n\n  max(max, message = locale.max) {\n    var limit = this.prepareParam(max, 'max');\n    return this.test({\n      message,\n      name: 'max',\n      exclusive: true,\n      params: {\n        max\n      },\n\n      test(value) {\n        return isAbsent(value) || value <= this.resolve(limit);\n      }\n\n    });\n  }\n\n}\nDateSchema.INVALID_DATE = invalidDate;\ncreate.prototype = DateSchema.prototype;\ncreate.INVALID_DATE = invalidDate;","map":{"version":3,"sources":["/home/jun/foodbank/node_modules/yup/es/date.js"],"names":["isoParse","date","locale","isAbsent","Ref","BaseSchema","invalidDate","Date","isDate","obj","Object","prototype","toString","call","create","DateSchema","constructor","type","withMutation","transform","value","isType","isNaN","_typeCheck","v","getTime","prepareParam","ref","name","param","isRef","cast","TypeError","min","message","limit","test","exclusive","params","resolve","max","INVALID_DATE"],"mappings":"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","sourcesContent":["// @ts-ignore\nimport isoParse from './util/isodate';\nimport { date as locale } from './locale';\nimport isAbsent from './util/isAbsent';\nimport Ref from './Reference';\nimport BaseSchema from './schema';\nlet invalidDate = new Date('');\n\nlet isDate = obj => Object.prototype.toString.call(obj) === '[object Date]';\n\nexport function create() {\n  return new DateSchema();\n}\nexport default class DateSchema extends BaseSchema {\n  constructor() {\n    super({\n      type: 'date'\n    });\n    this.withMutation(() => {\n      this.transform(function (value) {\n        if (this.isType(value)) return value;\n        value = isoParse(value); // 0 is a valid timestamp equivalent to 1970-01-01T00:00:00Z(unix epoch) or before.\n\n        return !isNaN(value) ? new Date(value) : invalidDate;\n      });\n    });\n  }\n\n  _typeCheck(v) {\n    return isDate(v) && !isNaN(v.getTime());\n  }\n\n  prepareParam(ref, name) {\n    let param;\n\n    if (!Ref.isRef(ref)) {\n      let cast = this.cast(ref);\n      if (!this._typeCheck(cast)) throw new TypeError(`\\`${name}\\` must be a Date or a value that can be \\`cast()\\` to a Date`);\n      param = cast;\n    } else {\n      param = ref;\n    }\n\n    return param;\n  }\n\n  min(min, message = locale.min) {\n    let limit = this.prepareParam(min, 'min');\n    return this.test({\n      message,\n      name: 'min',\n      exclusive: true,\n      params: {\n        min\n      },\n\n      test(value) {\n        return isAbsent(value) || value >= this.resolve(limit);\n      }\n\n    });\n  }\n\n  max(max, message = locale.max) {\n    var limit = this.prepareParam(max, 'max');\n    return this.test({\n      message,\n      name: 'max',\n      exclusive: true,\n      params: {\n        max\n      },\n\n      test(value) {\n        return isAbsent(value) || value <= this.resolve(limit);\n      }\n\n    });\n  }\n\n}\nDateSchema.INVALID_DATE = invalidDate;\ncreate.prototype = DateSchema.prototype;\ncreate.INVALID_DATE = invalidDate;"]},"metadata":{},"sourceType":"module"}