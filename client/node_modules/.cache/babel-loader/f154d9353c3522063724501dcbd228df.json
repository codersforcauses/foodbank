{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/timothy/foodbank/client/src/Components/Dialogue/index.tsx\",\n    _s = $RefreshSig$();\n\nimport Typewriter from 'Components/Typewriter';\nimport React, { useState } from 'react';\nimport './index.css';\n\n//\nconst Dialogue = ({\n  messages,\n  speaker,\n  avatar\n}) => {\n  _s();\n\n  const [displayDialogue, setDisplayDialogue] = useState('block');\n  const [typingState, setTypingState] = useState({\n    currentMessage: 0,\n    typing: true,\n    typed: false,\n    delay: 100\n  });\n\n  const handleClick = () => {\n    if (typingState.typed) {\n      if (typingState.currentMessage < messages.length - 1) {\n        setTypingState({\n          typing: true,\n          typed: false,\n          delay: 100,\n          currentMessage: typingState.currentMessage + 1\n        });\n      } else {\n        setDisplayDialogue('none');\n      }\n    } else {\n      setTypingState({\n        typing: false,\n        typed: true,\n        delay: 10,\n        currentMessage: typingState.currentMessage\n      });\n    }\n  };\n\n  const onTypingComplete = () => {\n    setTypingState({\n      typing: false,\n      typed: true,\n      delay: 100,\n      currentMessage: typingState.currentMessage\n    });\n  };\n\n  const Message = ({\n    message\n  }) => {\n    if (!typingState.typed) {\n      return /*#__PURE__*/_jsxDEV(Typewriter, {\n        string: message,\n        onComplete: onTypingComplete,\n        delay: typingState.delay\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: message\n    }, void 0, false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"overlay\",\n    style: {\n      display: displayDialogue\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dialogue\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"speaker\",\n        children: [speaker, /*#__PURE__*/_jsxDEV(\"img\", {\n          src: avatar,\n          alt: speaker\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dialogueMessage\",\n        children: /*#__PURE__*/_jsxDEV(Message, {\n          message: messages[typingState.currentMessage]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        role: \"button\",\n        className: \"dialogueNext\",\n        onClick: handleClick,\n        onKeyDown: handleClick,\n        tabIndex: 0,\n        children: \"Next\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Dialogue, \"jY3hLLIn5yn0kBSV0kxcz863mAs=\");\n\n_c = Dialogue;\nexport default Dialogue;\n\nvar _c;\n\n$RefreshReg$(_c, \"Dialogue\");","map":{"version":3,"sources":["/home/timothy/foodbank/client/src/Components/Dialogue/index.tsx"],"names":["Typewriter","React","useState","Dialogue","messages","speaker","avatar","displayDialogue","setDisplayDialogue","typingState","setTypingState","currentMessage","typing","typed","delay","handleClick","length","onTypingComplete","Message","message","display"],"mappings":"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","sourcesContent":["import Typewriter from 'Components/Typewriter'\nimport React, { useState } from 'react'\nimport './index.css'\n\ninterface Props {\n  messages: string[]\n  speaker: string\n  avatar: string //file location??\n}\n\n//\n\nconst Dialogue: React.FC<Props> = ({ messages, speaker, avatar }) => {\n  const [displayDialogue, setDisplayDialogue] = useState('block')\n\n  const [typingState, setTypingState] = useState({\n    currentMessage: 0,\n    typing: true,\n    typed: false,\n    delay: 100\n  })\n  const handleClick = () => {\n    if (typingState.typed) {\n      if (typingState.currentMessage < messages.length - 1) {\n        setTypingState({\n          typing: true,\n          typed: false,\n          delay: 100,\n          currentMessage: typingState.currentMessage + 1\n        })\n      } else {\n        setDisplayDialogue('none')\n      }\n    } else {\n      setTypingState({\n        typing: false,\n        typed: true,\n        delay: 10,\n        currentMessage: typingState.currentMessage\n      })\n    }\n  }\n\n  const onTypingComplete = () => {\n    setTypingState({\n      typing: false,\n      typed: true,\n      delay: 100,\n      currentMessage: typingState.currentMessage\n    })\n  }\n\n  const Message = ({ message }: { message: string }) => {\n    if (!typingState.typed) {\n      return (\n        <Typewriter\n          string={message}\n          onComplete={onTypingComplete}\n          delay={typingState.delay}\n        />\n      )\n    }\n    return <>{message}</>\n  }\n\n  return (\n    <div className='overlay' style={{ display: displayDialogue }}>\n      <div className='dialogue'>\n        <div className='speaker'>\n          {speaker}\n          <img src={avatar} alt={speaker} />\n        </div>\n        <div className='dialogueMessage'>\n          <Message message={messages[typingState.currentMessage]} />\n        </div>\n        {\n          //Change this to visit dynamically for town clicks\n        }\n        <div\n          role='button'\n          className='dialogueNext'\n          onClick={handleClick}\n          onKeyDown={handleClick}\n          tabIndex={0}\n        >\n          Next\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Dialogue\n"]},"metadata":{},"sourceType":"module"}