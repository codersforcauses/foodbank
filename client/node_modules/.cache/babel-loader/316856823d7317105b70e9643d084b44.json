{"ast":null,"code":"function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport { MODE_IDLE } from '../constants';\nimport { applyToPoint, fromObject, identity, inverse, scale, transform, translate } from 'transformation-matrix';\nvar VERSION = 3;\nexport var DEFAULT_MODE = MODE_IDLE;\n/**\n * Obtain default value\n * @returns {Object}\n */\n\nexport function getDefaultValue(viewerWidth, viewerHeight, SVGMinX, SVGMinY, SVGWidth, SVGHeight) {\n  var scaleFactorMin = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : null;\n  var scaleFactorMax = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : null;\n  return set({}, _objectSpread(_objectSpread({}, identity()), {}, {\n    version: VERSION,\n    mode: DEFAULT_MODE,\n    focus: false,\n    pinchPointDistance: null,\n    prePinchMode: null,\n    viewerWidth: viewerWidth,\n    viewerHeight: viewerHeight,\n    SVGMinX: SVGMinX,\n    SVGMinY: SVGMinY,\n    SVGWidth: SVGWidth,\n    SVGHeight: SVGHeight,\n    scaleFactorMin: scaleFactorMin,\n    scaleFactorMax: scaleFactorMax,\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null,\n    miniatureOpen: true,\n    lastAction: null\n  }));\n}\n/**\n * Change value\n * @param value\n * @param patch\n * @param action\n * @returns {Object}\n */\n\nexport function set(value, patch) {\n  var action = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  value = Object.assign({}, value, patch, {\n    lastAction: action\n  });\n  return Object.freeze(value);\n}\n/**\n * value valid check\n * @param value\n */\n\nexport function isValueValid(value) {\n  return value !== null && _typeof(value) === 'object' && value.hasOwnProperty('version') && value.version === VERSION;\n}\n/**\n * Export x,y coords relative to SVG\n * @param value\n * @param viewerX\n * @param viewerY\n * @returns {*|{x, y}|{x: number, y: number}}\n */\n\nexport function getSVGPoint(value, viewerX, viewerY) {\n  var matrix = fromObject(value);\n  var inverseMatrix = inverse(matrix);\n  return applyToPoint(inverseMatrix, {\n    x: viewerX,\n    y: viewerY\n  });\n}\n/**\n * Decompose matrix from value\n * @param value\n * @returns {{scaleFactor: number, translationX: number, translationY: number}}\n */\n\nexport function decompose(value) {\n  var matrix = fromObject(value);\n  return {\n    scaleFactor: matrix.a,\n    translationX: matrix.e,\n    translationY: matrix.f\n  };\n}\n/**\n *\n * @param value\n * @param focus\n * @returns {Object}\n */\n\nexport function setFocus(value, focus) {\n  return set(value, {\n    focus: focus\n  });\n}\n/**\n *\n * @param value\n * @param viewerWidth\n * @param viewerHeight\n * @returns {Object}\n */\n\nexport function setViewerSize(value, viewerWidth, viewerHeight) {\n  return set(value, {\n    viewerWidth: viewerWidth,\n    viewerHeight: viewerHeight\n  });\n}\n/**\n *\n * @param value\n * @param SVGMinX\n * @param SVGMinY\n * @param SVGWidth\n * @param SVGHeight\n * @returns {Object}\n */\n\nexport function setSVGViewBox(value, SVGMinX, SVGMinY, SVGWidth, SVGHeight) {\n  return set(value, {\n    SVGMinX: SVGMinX,\n    SVGMinY: SVGMinY,\n    SVGWidth: SVGWidth,\n    SVGHeight: SVGHeight\n  });\n}\n/**\n *\n * @param value\n * @param scaleFactorMin\n * @param scaleFactorMax\n * @returns {Object}\n */\n//TODO rename to setZoomLimits\n\nexport function setZoomLevels(value, scaleFactorMin, scaleFactorMax) {\n  return set(value, {\n    scaleFactorMin: scaleFactorMin,\n    scaleFactorMax: scaleFactorMax\n  });\n}\n/**\n *\n * @param value\n * @param SVGPointX\n * @param SVGPointY\n * @param zoomLevel\n * @returns {Object}\n */\n\nexport function setPointOnViewerCenter(value, SVGPointX, SVGPointY, zoomLevel) {\n  var viewerWidth = value.viewerWidth,\n      viewerHeight = value.viewerHeight;\n  var matrix = transform(translate(-SVGPointX + viewerWidth / 2, -SVGPointY + viewerHeight / 2), //4\n  translate(SVGPointX, SVGPointY), //3\n  scale(zoomLevel, zoomLevel), //2\n  translate(-SVGPointX, -SVGPointY) //1\n  );\n  return set(value, _objectSpread({\n    mode: MODE_IDLE\n  }, matrix));\n}\n/**\n *\n * @param value\n * @returns {Object}\n */\n\nexport function reset(value) {\n  return set(value, _objectSpread({\n    mode: MODE_IDLE\n  }, identity()));\n}\n/**\n *\n * @param value\n * @returns {Object}\n */\n\nexport function resetMode(value) {\n  return set(value, {\n    mode: DEFAULT_MODE,\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null\n  });\n}","map":{"version":3,"sources":["/home/jun/foodbank/node_modules/react-svg-pan-zoom/build-es/features/common.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","value","configurable","writable","MODE_IDLE","applyToPoint","fromObject","identity","inverse","scale","transform","translate","VERSION","DEFAULT_MODE","getDefaultValue","viewerWidth","viewerHeight","SVGMinX","SVGMinY","SVGWidth","SVGHeight","scaleFactorMin","undefined","scaleFactorMax","set","version","mode","focus","pinchPointDistance","prePinchMode","startX","startY","endX","endY","miniatureOpen","lastAction","patch","action","assign","freeze","isValueValid","hasOwnProperty","getSVGPoint","viewerX","viewerY","matrix","inverseMatrix","x","y","decompose","scaleFactor","a","translationX","e","translationY","f","setFocus","setViewerSize","setSVGViewBox","setZoomLevels","setPointOnViewerCenter","SVGPointX","SVGPointY","zoomLevel","reset","resetMode"],"mappings":"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","sourcesContent":["function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { MODE_IDLE } from '../constants';\nimport { applyToPoint, fromObject, identity, inverse, scale, transform, translate } from 'transformation-matrix';\nvar VERSION = 3;\nexport var DEFAULT_MODE = MODE_IDLE;\n/**\n * Obtain default value\n * @returns {Object}\n */\n\nexport function getDefaultValue(viewerWidth, viewerHeight, SVGMinX, SVGMinY, SVGWidth, SVGHeight) {\n  var scaleFactorMin = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : null;\n  var scaleFactorMax = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : null;\n  return set({}, _objectSpread(_objectSpread({}, identity()), {}, {\n    version: VERSION,\n    mode: DEFAULT_MODE,\n    focus: false,\n    pinchPointDistance: null,\n    prePinchMode: null,\n    viewerWidth: viewerWidth,\n    viewerHeight: viewerHeight,\n    SVGMinX: SVGMinX,\n    SVGMinY: SVGMinY,\n    SVGWidth: SVGWidth,\n    SVGHeight: SVGHeight,\n    scaleFactorMin: scaleFactorMin,\n    scaleFactorMax: scaleFactorMax,\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null,\n    miniatureOpen: true,\n    lastAction: null\n  }));\n}\n/**\n * Change value\n * @param value\n * @param patch\n * @param action\n * @returns {Object}\n */\n\nexport function set(value, patch) {\n  var action = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  value = Object.assign({}, value, patch, {\n    lastAction: action\n  });\n  return Object.freeze(value);\n}\n/**\n * value valid check\n * @param value\n */\n\nexport function isValueValid(value) {\n  return value !== null && _typeof(value) === 'object' && value.hasOwnProperty('version') && value.version === VERSION;\n}\n/**\n * Export x,y coords relative to SVG\n * @param value\n * @param viewerX\n * @param viewerY\n * @returns {*|{x, y}|{x: number, y: number}}\n */\n\nexport function getSVGPoint(value, viewerX, viewerY) {\n  var matrix = fromObject(value);\n  var inverseMatrix = inverse(matrix);\n  return applyToPoint(inverseMatrix, {\n    x: viewerX,\n    y: viewerY\n  });\n}\n/**\n * Decompose matrix from value\n * @param value\n * @returns {{scaleFactor: number, translationX: number, translationY: number}}\n */\n\nexport function decompose(value) {\n  var matrix = fromObject(value);\n  return {\n    scaleFactor: matrix.a,\n    translationX: matrix.e,\n    translationY: matrix.f\n  };\n}\n/**\n *\n * @param value\n * @param focus\n * @returns {Object}\n */\n\nexport function setFocus(value, focus) {\n  return set(value, {\n    focus: focus\n  });\n}\n/**\n *\n * @param value\n * @param viewerWidth\n * @param viewerHeight\n * @returns {Object}\n */\n\nexport function setViewerSize(value, viewerWidth, viewerHeight) {\n  return set(value, {\n    viewerWidth: viewerWidth,\n    viewerHeight: viewerHeight\n  });\n}\n/**\n *\n * @param value\n * @param SVGMinX\n * @param SVGMinY\n * @param SVGWidth\n * @param SVGHeight\n * @returns {Object}\n */\n\nexport function setSVGViewBox(value, SVGMinX, SVGMinY, SVGWidth, SVGHeight) {\n  return set(value, {\n    SVGMinX: SVGMinX,\n    SVGMinY: SVGMinY,\n    SVGWidth: SVGWidth,\n    SVGHeight: SVGHeight\n  });\n}\n/**\n *\n * @param value\n * @param scaleFactorMin\n * @param scaleFactorMax\n * @returns {Object}\n */\n//TODO rename to setZoomLimits\n\nexport function setZoomLevels(value, scaleFactorMin, scaleFactorMax) {\n  return set(value, {\n    scaleFactorMin: scaleFactorMin,\n    scaleFactorMax: scaleFactorMax\n  });\n}\n/**\n *\n * @param value\n * @param SVGPointX\n * @param SVGPointY\n * @param zoomLevel\n * @returns {Object}\n */\n\nexport function setPointOnViewerCenter(value, SVGPointX, SVGPointY, zoomLevel) {\n  var viewerWidth = value.viewerWidth,\n      viewerHeight = value.viewerHeight;\n  var matrix = transform(translate(-SVGPointX + viewerWidth / 2, -SVGPointY + viewerHeight / 2), //4\n  translate(SVGPointX, SVGPointY), //3\n  scale(zoomLevel, zoomLevel), //2\n  translate(-SVGPointX, -SVGPointY) //1\n  );\n  return set(value, _objectSpread({\n    mode: MODE_IDLE\n  }, matrix));\n}\n/**\n *\n * @param value\n * @returns {Object}\n */\n\nexport function reset(value) {\n  return set(value, _objectSpread({\n    mode: MODE_IDLE\n  }, identity()));\n}\n/**\n *\n * @param value\n * @returns {Object}\n */\n\nexport function resetMode(value) {\n  return set(value, {\n    mode: DEFAULT_MODE,\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null\n  });\n}"]},"metadata":{},"sourceType":"module"}