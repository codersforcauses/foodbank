{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Global_1 = require(\"./Global\");\n\nvar Collection = function () {\n  function Collection() {}\n\n  Collection.toCollection = function (arr) {\n    var collection = new Collection(),\n        len = arr.length,\n        n;\n\n    for (n = 0; n < len; n++) {\n      collection.push(arr[n]);\n    }\n\n    return collection;\n  };\n\n  Collection._mapMethod = function (methodName) {\n    Collection.prototype[methodName] = function () {\n      var len = this.length,\n          i;\n      var args = [].slice.call(arguments);\n\n      for (i = 0; i < len; i++) {\n        this[i][methodName].apply(this[i], args);\n      }\n\n      return this;\n    };\n  };\n\n  Collection.mapMethods = function (constructor) {\n    var prot = constructor.prototype;\n\n    for (var methodName in prot) {\n      Collection._mapMethod(methodName);\n    }\n  };\n\n  return Collection;\n}();\n\nexports.Collection = Collection;\nCollection.prototype = [];\n\nCollection.prototype.each = function (func) {\n  for (var n = 0; n < this.length; n++) {\n    func(this[n], n);\n  }\n};\n\nCollection.prototype.toArray = function () {\n  var arr = [],\n      len = this.length,\n      n;\n\n  for (n = 0; n < len; n++) {\n    arr.push(this[n]);\n  }\n\n  return arr;\n};\n\nvar Transform = function () {\n  function Transform(m) {\n    if (m === void 0) {\n      m = [1, 0, 0, 1, 0, 0];\n    }\n\n    this.dirty = false;\n    this.m = m && m.slice() || [1, 0, 0, 1, 0, 0];\n  }\n\n  Transform.prototype.reset = function () {\n    this.m[0] = 1;\n    this.m[1] = 0;\n    this.m[2] = 0;\n    this.m[3] = 1;\n    this.m[4] = 0;\n    this.m[5] = 0;\n  };\n\n  Transform.prototype.copy = function () {\n    return new Transform(this.m);\n  };\n\n  Transform.prototype.copyInto = function (tr) {\n    tr.m[0] = this.m[0];\n    tr.m[1] = this.m[1];\n    tr.m[2] = this.m[2];\n    tr.m[3] = this.m[3];\n    tr.m[4] = this.m[4];\n    tr.m[5] = this.m[5];\n  };\n\n  Transform.prototype.point = function (point) {\n    var m = this.m;\n    return {\n      x: m[0] * point.x + m[2] * point.y + m[4],\n      y: m[1] * point.x + m[3] * point.y + m[5]\n    };\n  };\n\n  Transform.prototype.translate = function (x, y) {\n    this.m[4] += this.m[0] * x + this.m[2] * y;\n    this.m[5] += this.m[1] * x + this.m[3] * y;\n    return this;\n  };\n\n  Transform.prototype.scale = function (sx, sy) {\n    this.m[0] *= sx;\n    this.m[1] *= sx;\n    this.m[2] *= sy;\n    this.m[3] *= sy;\n    return this;\n  };\n\n  Transform.prototype.rotate = function (rad) {\n    var c = Math.cos(rad);\n    var s = Math.sin(rad);\n    var m11 = this.m[0] * c + this.m[2] * s;\n    var m12 = this.m[1] * c + this.m[3] * s;\n    var m21 = this.m[0] * -s + this.m[2] * c;\n    var m22 = this.m[1] * -s + this.m[3] * c;\n    this.m[0] = m11;\n    this.m[1] = m12;\n    this.m[2] = m21;\n    this.m[3] = m22;\n    return this;\n  };\n\n  Transform.prototype.getTranslation = function () {\n    return {\n      x: this.m[4],\n      y: this.m[5]\n    };\n  };\n\n  Transform.prototype.skew = function (sx, sy) {\n    var m11 = this.m[0] + this.m[2] * sy;\n    var m12 = this.m[1] + this.m[3] * sy;\n    var m21 = this.m[2] + this.m[0] * sx;\n    var m22 = this.m[3] + this.m[1] * sx;\n    this.m[0] = m11;\n    this.m[1] = m12;\n    this.m[2] = m21;\n    this.m[3] = m22;\n    return this;\n  };\n\n  Transform.prototype.multiply = function (matrix) {\n    var m11 = this.m[0] * matrix.m[0] + this.m[2] * matrix.m[1];\n    var m12 = this.m[1] * matrix.m[0] + this.m[3] * matrix.m[1];\n    var m21 = this.m[0] * matrix.m[2] + this.m[2] * matrix.m[3];\n    var m22 = this.m[1] * matrix.m[2] + this.m[3] * matrix.m[3];\n    var dx = this.m[0] * matrix.m[4] + this.m[2] * matrix.m[5] + this.m[4];\n    var dy = this.m[1] * matrix.m[4] + this.m[3] * matrix.m[5] + this.m[5];\n    this.m[0] = m11;\n    this.m[1] = m12;\n    this.m[2] = m21;\n    this.m[3] = m22;\n    this.m[4] = dx;\n    this.m[5] = dy;\n    return this;\n  };\n\n  Transform.prototype.invert = function () {\n    var d = 1 / (this.m[0] * this.m[3] - this.m[1] * this.m[2]);\n    var m0 = this.m[3] * d;\n    var m1 = -this.m[1] * d;\n    var m2 = -this.m[2] * d;\n    var m3 = this.m[0] * d;\n    var m4 = d * (this.m[2] * this.m[5] - this.m[3] * this.m[4]);\n    var m5 = d * (this.m[1] * this.m[4] - this.m[0] * this.m[5]);\n    this.m[0] = m0;\n    this.m[1] = m1;\n    this.m[2] = m2;\n    this.m[3] = m3;\n    this.m[4] = m4;\n    this.m[5] = m5;\n    return this;\n  };\n\n  Transform.prototype.getMatrix = function () {\n    return this.m;\n  };\n\n  Transform.prototype.setAbsolutePosition = function (x, y) {\n    var m0 = this.m[0],\n        m1 = this.m[1],\n        m2 = this.m[2],\n        m3 = this.m[3],\n        m4 = this.m[4],\n        m5 = this.m[5],\n        yt = (m0 * (y - m5) - m1 * (x - m4)) / (m0 * m3 - m1 * m2),\n        xt = (x - m4 - m2 * yt) / m0;\n    return this.translate(xt, yt);\n  };\n\n  Transform.prototype.decompose = function () {\n    var a = this.m[0];\n    var b = this.m[1];\n    var c = this.m[2];\n    var d = this.m[3];\n    var e = this.m[4];\n    var f = this.m[5];\n    var delta = a * d - b * c;\n    var result = {\n      x: e,\n      y: f,\n      rotation: 0,\n      scaleX: 0,\n      scaleY: 0,\n      skewX: 0,\n      skewY: 0\n    };\n\n    if (a != 0 || b != 0) {\n      var r = Math.sqrt(a * a + b * b);\n      result.rotation = b > 0 ? Math.acos(a / r) : -Math.acos(a / r);\n      result.scaleX = r;\n      result.scaleY = delta / r;\n      result.skewX = (a * c + b * d) / delta;\n      result.skewY = 0;\n    } else if (c != 0 || d != 0) {\n      var s = Math.sqrt(c * c + d * d);\n      result.rotation = Math.PI / 2 - (d > 0 ? Math.acos(-c / s) : -Math.acos(c / s));\n      result.scaleX = delta / s;\n      result.scaleY = s;\n      result.skewX = 0;\n      result.skewY = (a * c + b * d) / delta;\n    } else {}\n\n    result.rotation = exports.Util._getRotation(result.rotation);\n    return result;\n  };\n\n  return Transform;\n}();\n\nexports.Transform = Transform;\nvar OBJECT_ARRAY = '[object Array]',\n    OBJECT_NUMBER = '[object Number]',\n    OBJECT_STRING = '[object String]',\n    OBJECT_BOOLEAN = '[object Boolean]',\n    PI_OVER_DEG180 = Math.PI / 180,\n    DEG180_OVER_PI = 180 / Math.PI,\n    HASH = '#',\n    EMPTY_STRING = '',\n    ZERO = '0',\n    KONVA_WARNING = 'Konva warning: ',\n    KONVA_ERROR = 'Konva error: ',\n    RGB_PAREN = 'rgb(',\n    COLORS = {\n  aliceblue: [240, 248, 255],\n  antiquewhite: [250, 235, 215],\n  aqua: [0, 255, 255],\n  aquamarine: [127, 255, 212],\n  azure: [240, 255, 255],\n  beige: [245, 245, 220],\n  bisque: [255, 228, 196],\n  black: [0, 0, 0],\n  blanchedalmond: [255, 235, 205],\n  blue: [0, 0, 255],\n  blueviolet: [138, 43, 226],\n  brown: [165, 42, 42],\n  burlywood: [222, 184, 135],\n  cadetblue: [95, 158, 160],\n  chartreuse: [127, 255, 0],\n  chocolate: [210, 105, 30],\n  coral: [255, 127, 80],\n  cornflowerblue: [100, 149, 237],\n  cornsilk: [255, 248, 220],\n  crimson: [220, 20, 60],\n  cyan: [0, 255, 255],\n  darkblue: [0, 0, 139],\n  darkcyan: [0, 139, 139],\n  darkgoldenrod: [184, 132, 11],\n  darkgray: [169, 169, 169],\n  darkgreen: [0, 100, 0],\n  darkgrey: [169, 169, 169],\n  darkkhaki: [189, 183, 107],\n  darkmagenta: [139, 0, 139],\n  darkolivegreen: [85, 107, 47],\n  darkorange: [255, 140, 0],\n  darkorchid: [153, 50, 204],\n  darkred: [139, 0, 0],\n  darksalmon: [233, 150, 122],\n  darkseagreen: [143, 188, 143],\n  darkslateblue: [72, 61, 139],\n  darkslategray: [47, 79, 79],\n  darkslategrey: [47, 79, 79],\n  darkturquoise: [0, 206, 209],\n  darkviolet: [148, 0, 211],\n  deeppink: [255, 20, 147],\n  deepskyblue: [0, 191, 255],\n  dimgray: [105, 105, 105],\n  dimgrey: [105, 105, 105],\n  dodgerblue: [30, 144, 255],\n  firebrick: [178, 34, 34],\n  floralwhite: [255, 255, 240],\n  forestgreen: [34, 139, 34],\n  fuchsia: [255, 0, 255],\n  gainsboro: [220, 220, 220],\n  ghostwhite: [248, 248, 255],\n  gold: [255, 215, 0],\n  goldenrod: [218, 165, 32],\n  gray: [128, 128, 128],\n  green: [0, 128, 0],\n  greenyellow: [173, 255, 47],\n  grey: [128, 128, 128],\n  honeydew: [240, 255, 240],\n  hotpink: [255, 105, 180],\n  indianred: [205, 92, 92],\n  indigo: [75, 0, 130],\n  ivory: [255, 255, 240],\n  khaki: [240, 230, 140],\n  lavender: [230, 230, 250],\n  lavenderblush: [255, 240, 245],\n  lawngreen: [124, 252, 0],\n  lemonchiffon: [255, 250, 205],\n  lightblue: [173, 216, 230],\n  lightcoral: [240, 128, 128],\n  lightcyan: [224, 255, 255],\n  lightgoldenrodyellow: [250, 250, 210],\n  lightgray: [211, 211, 211],\n  lightgreen: [144, 238, 144],\n  lightgrey: [211, 211, 211],\n  lightpink: [255, 182, 193],\n  lightsalmon: [255, 160, 122],\n  lightseagreen: [32, 178, 170],\n  lightskyblue: [135, 206, 250],\n  lightslategray: [119, 136, 153],\n  lightslategrey: [119, 136, 153],\n  lightsteelblue: [176, 196, 222],\n  lightyellow: [255, 255, 224],\n  lime: [0, 255, 0],\n  limegreen: [50, 205, 50],\n  linen: [250, 240, 230],\n  magenta: [255, 0, 255],\n  maroon: [128, 0, 0],\n  mediumaquamarine: [102, 205, 170],\n  mediumblue: [0, 0, 205],\n  mediumorchid: [186, 85, 211],\n  mediumpurple: [147, 112, 219],\n  mediumseagreen: [60, 179, 113],\n  mediumslateblue: [123, 104, 238],\n  mediumspringgreen: [0, 250, 154],\n  mediumturquoise: [72, 209, 204],\n  mediumvioletred: [199, 21, 133],\n  midnightblue: [25, 25, 112],\n  mintcream: [245, 255, 250],\n  mistyrose: [255, 228, 225],\n  moccasin: [255, 228, 181],\n  navajowhite: [255, 222, 173],\n  navy: [0, 0, 128],\n  oldlace: [253, 245, 230],\n  olive: [128, 128, 0],\n  olivedrab: [107, 142, 35],\n  orange: [255, 165, 0],\n  orangered: [255, 69, 0],\n  orchid: [218, 112, 214],\n  palegoldenrod: [238, 232, 170],\n  palegreen: [152, 251, 152],\n  paleturquoise: [175, 238, 238],\n  palevioletred: [219, 112, 147],\n  papayawhip: [255, 239, 213],\n  peachpuff: [255, 218, 185],\n  peru: [205, 133, 63],\n  pink: [255, 192, 203],\n  plum: [221, 160, 203],\n  powderblue: [176, 224, 230],\n  purple: [128, 0, 128],\n  rebeccapurple: [102, 51, 153],\n  red: [255, 0, 0],\n  rosybrown: [188, 143, 143],\n  royalblue: [65, 105, 225],\n  saddlebrown: [139, 69, 19],\n  salmon: [250, 128, 114],\n  sandybrown: [244, 164, 96],\n  seagreen: [46, 139, 87],\n  seashell: [255, 245, 238],\n  sienna: [160, 82, 45],\n  silver: [192, 192, 192],\n  skyblue: [135, 206, 235],\n  slateblue: [106, 90, 205],\n  slategray: [119, 128, 144],\n  slategrey: [119, 128, 144],\n  snow: [255, 255, 250],\n  springgreen: [0, 255, 127],\n  steelblue: [70, 130, 180],\n  tan: [210, 180, 140],\n  teal: [0, 128, 128],\n  thistle: [216, 191, 216],\n  transparent: [255, 255, 255, 0],\n  tomato: [255, 99, 71],\n  turquoise: [64, 224, 208],\n  violet: [238, 130, 238],\n  wheat: [245, 222, 179],\n  white: [255, 255, 255],\n  whitesmoke: [245, 245, 245],\n  yellow: [255, 255, 0],\n  yellowgreen: [154, 205, 5]\n},\n    RGB_REGEX = /rgb\\((\\d{1,3}),(\\d{1,3}),(\\d{1,3})\\)/,\n    animQueue = [];\nexports.Util = {\n  _isElement: function (obj) {\n    return !!(obj && obj.nodeType == 1);\n  },\n  _isFunction: function (obj) {\n    return !!(obj && obj.constructor && obj.call && obj.apply);\n  },\n  _isPlainObject: function (obj) {\n    return !!obj && obj.constructor === Object;\n  },\n  _isArray: function (obj) {\n    return Object.prototype.toString.call(obj) === OBJECT_ARRAY;\n  },\n  _isNumber: function (obj) {\n    return Object.prototype.toString.call(obj) === OBJECT_NUMBER && !isNaN(obj) && isFinite(obj);\n  },\n  _isString: function (obj) {\n    return Object.prototype.toString.call(obj) === OBJECT_STRING;\n  },\n  _isBoolean: function (obj) {\n    return Object.prototype.toString.call(obj) === OBJECT_BOOLEAN;\n  },\n  isObject: function (val) {\n    return val instanceof Object;\n  },\n  isValidSelector: function (selector) {\n    if (typeof selector !== 'string') {\n      return false;\n    }\n\n    var firstChar = selector[0];\n    return firstChar === '#' || firstChar === '.' || firstChar === firstChar.toUpperCase();\n  },\n  _sign: function (number) {\n    if (number === 0) {\n      return 0;\n    }\n\n    if (number > 0) {\n      return 1;\n    } else {\n      return -1;\n    }\n  },\n  requestAnimFrame: function (callback) {\n    animQueue.push(callback);\n\n    if (animQueue.length === 1) {\n      requestAnimationFrame(function () {\n        var queue = animQueue;\n        animQueue = [];\n        queue.forEach(function (cb) {\n          cb();\n        });\n      });\n    }\n  },\n  createCanvasElement: function () {\n    var canvas = document.createElement('canvas');\n\n    try {\n      canvas.style = canvas.style || {};\n    } catch (e) {}\n\n    return canvas;\n  },\n  createImageElement: function () {\n    return document.createElement('img');\n  },\n  _isInDocument: function (el) {\n    while (el = el.parentNode) {\n      if (el == document) {\n        return true;\n      }\n    }\n\n    return false;\n  },\n  _simplifyArray: function (arr) {\n    var retArr = [],\n        len = arr.length,\n        util = exports.Util,\n        n,\n        val;\n\n    for (n = 0; n < len; n++) {\n      val = arr[n];\n\n      if (util._isNumber(val)) {\n        val = Math.round(val * 1000) / 1000;\n      } else if (!util._isString(val)) {\n        val = val.toString();\n      }\n\n      retArr.push(val);\n    }\n\n    return retArr;\n  },\n  _urlToImage: function (url, callback) {\n    var imageObj = new Global_1.glob.Image();\n\n    imageObj.onload = function () {\n      callback(imageObj);\n    };\n\n    imageObj.src = url;\n  },\n  _rgbToHex: function (r, g, b) {\n    return ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);\n  },\n  _hexToRgb: function (hex) {\n    hex = hex.replace(HASH, EMPTY_STRING);\n    var bigint = parseInt(hex, 16);\n    return {\n      r: bigint >> 16 & 255,\n      g: bigint >> 8 & 255,\n      b: bigint & 255\n    };\n  },\n  getRandomColor: function () {\n    var randColor = (Math.random() * 0xffffff << 0).toString(16);\n\n    while (randColor.length < 6) {\n      randColor = ZERO + randColor;\n    }\n\n    return HASH + randColor;\n  },\n  get: function (val, def) {\n    if (val === undefined) {\n      return def;\n    } else {\n      return val;\n    }\n  },\n  getRGB: function (color) {\n    var rgb;\n\n    if (color in COLORS) {\n      rgb = COLORS[color];\n      return {\n        r: rgb[0],\n        g: rgb[1],\n        b: rgb[2]\n      };\n    } else if (color[0] === HASH) {\n      return this._hexToRgb(color.substring(1));\n    } else if (color.substr(0, 4) === RGB_PAREN) {\n      rgb = RGB_REGEX.exec(color.replace(/ /g, ''));\n      return {\n        r: parseInt(rgb[1], 10),\n        g: parseInt(rgb[2], 10),\n        b: parseInt(rgb[3], 10)\n      };\n    } else {\n      return {\n        r: 0,\n        g: 0,\n        b: 0\n      };\n    }\n  },\n  colorToRGBA: function (str) {\n    str = str || 'black';\n    return exports.Util._namedColorToRBA(str) || exports.Util._hex3ColorToRGBA(str) || exports.Util._hex6ColorToRGBA(str) || exports.Util._rgbColorToRGBA(str) || exports.Util._rgbaColorToRGBA(str) || exports.Util._hslColorToRGBA(str);\n  },\n  _namedColorToRBA: function (str) {\n    var c = COLORS[str.toLowerCase()];\n\n    if (!c) {\n      return null;\n    }\n\n    return {\n      r: c[0],\n      g: c[1],\n      b: c[2],\n      a: 1\n    };\n  },\n  _rgbColorToRGBA: function (str) {\n    if (str.indexOf('rgb(') === 0) {\n      str = str.match(/rgb\\(([^)]+)\\)/)[1];\n      var parts = str.split(/ *, */).map(Number);\n      return {\n        r: parts[0],\n        g: parts[1],\n        b: parts[2],\n        a: 1\n      };\n    }\n  },\n  _rgbaColorToRGBA: function (str) {\n    if (str.indexOf('rgba(') === 0) {\n      str = str.match(/rgba\\(([^)]+)\\)/)[1];\n      var parts = str.split(/ *, */).map(Number);\n      return {\n        r: parts[0],\n        g: parts[1],\n        b: parts[2],\n        a: parts[3]\n      };\n    }\n  },\n  _hex6ColorToRGBA: function (str) {\n    if (str[0] === '#' && str.length === 7) {\n      return {\n        r: parseInt(str.slice(1, 3), 16),\n        g: parseInt(str.slice(3, 5), 16),\n        b: parseInt(str.slice(5, 7), 16),\n        a: 1\n      };\n    }\n  },\n  _hex3ColorToRGBA: function (str) {\n    if (str[0] === '#' && str.length === 4) {\n      return {\n        r: parseInt(str[1] + str[1], 16),\n        g: parseInt(str[2] + str[2], 16),\n        b: parseInt(str[3] + str[3], 16),\n        a: 1\n      };\n    }\n  },\n  _hslColorToRGBA: function (str) {\n    if (/hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.test(str)) {\n      var _a = /hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.exec(str),\n          _ = _a[0],\n          hsl = _a.slice(1);\n\n      var h = Number(hsl[0]) / 360;\n      var s = Number(hsl[1]) / 100;\n      var l = Number(hsl[2]) / 100;\n      var t2 = void 0;\n      var t3 = void 0;\n      var val = void 0;\n\n      if (s === 0) {\n        val = l * 255;\n        return {\n          r: Math.round(val),\n          g: Math.round(val),\n          b: Math.round(val),\n          a: 1\n        };\n      }\n\n      if (l < 0.5) {\n        t2 = l * (1 + s);\n      } else {\n        t2 = l + s - l * s;\n      }\n\n      var t1 = 2 * l - t2;\n      var rgb = [0, 0, 0];\n\n      for (var i = 0; i < 3; i++) {\n        t3 = h + 1 / 3 * -(i - 1);\n\n        if (t3 < 0) {\n          t3++;\n        }\n\n        if (t3 > 1) {\n          t3--;\n        }\n\n        if (6 * t3 < 1) {\n          val = t1 + (t2 - t1) * 6 * t3;\n        } else if (2 * t3 < 1) {\n          val = t2;\n        } else if (3 * t3 < 2) {\n          val = t1 + (t2 - t1) * (2 / 3 - t3) * 6;\n        } else {\n          val = t1;\n        }\n\n        rgb[i] = val * 255;\n      }\n\n      return {\n        r: Math.round(rgb[0]),\n        g: Math.round(rgb[1]),\n        b: Math.round(rgb[2]),\n        a: 1\n      };\n    }\n  },\n  haveIntersection: function (r1, r2) {\n    return !(r2.x > r1.x + r1.width || r2.x + r2.width < r1.x || r2.y > r1.y + r1.height || r2.y + r2.height < r1.y);\n  },\n  cloneObject: function (obj) {\n    var retObj = {};\n\n    for (var key in obj) {\n      if (this._isPlainObject(obj[key])) {\n        retObj[key] = this.cloneObject(obj[key]);\n      } else if (this._isArray(obj[key])) {\n        retObj[key] = this.cloneArray(obj[key]);\n      } else {\n        retObj[key] = obj[key];\n      }\n    }\n\n    return retObj;\n  },\n  cloneArray: function (arr) {\n    return arr.slice(0);\n  },\n  _degToRad: function (deg) {\n    return deg * PI_OVER_DEG180;\n  },\n  _radToDeg: function (rad) {\n    return rad * DEG180_OVER_PI;\n  },\n  _getRotation: function (radians) {\n    return Global_1.Konva.angleDeg ? exports.Util._radToDeg(radians) : radians;\n  },\n  _capitalize: function (str) {\n    return str.charAt(0).toUpperCase() + str.slice(1);\n  },\n  throw: function (str) {\n    throw new Error(KONVA_ERROR + str);\n  },\n  error: function (str) {\n    console.error(KONVA_ERROR + str);\n  },\n  warn: function (str) {\n    if (!Global_1.Konva.showWarnings) {\n      return;\n    }\n\n    console.warn(KONVA_WARNING + str);\n  },\n  extend: function (child, parent) {\n    function Ctor() {\n      this.constructor = child;\n    }\n\n    Ctor.prototype = parent.prototype;\n    var oldProto = child.prototype;\n    child.prototype = new Ctor();\n\n    for (var key in oldProto) {\n      if (oldProto.hasOwnProperty(key)) {\n        child.prototype[key] = oldProto[key];\n      }\n    }\n\n    child.__super__ = parent.prototype;\n    child.super = parent;\n  },\n  _getControlPoints: function (x0, y0, x1, y1, x2, y2, t) {\n    var d01 = Math.sqrt(Math.pow(x1 - x0, 2) + Math.pow(y1 - y0, 2)),\n        d12 = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2)),\n        fa = t * d01 / (d01 + d12),\n        fb = t * d12 / (d01 + d12),\n        p1x = x1 - fa * (x2 - x0),\n        p1y = y1 - fa * (y2 - y0),\n        p2x = x1 + fb * (x2 - x0),\n        p2y = y1 + fb * (y2 - y0);\n    return [p1x, p1y, p2x, p2y];\n  },\n  _expandPoints: function (p, tension) {\n    var len = p.length,\n        allPoints = [],\n        n,\n        cp;\n\n    for (n = 2; n < len - 2; n += 2) {\n      cp = exports.Util._getControlPoints(p[n - 2], p[n - 1], p[n], p[n + 1], p[n + 2], p[n + 3], tension);\n\n      if (isNaN(cp[0])) {\n        continue;\n      }\n\n      allPoints.push(cp[0]);\n      allPoints.push(cp[1]);\n      allPoints.push(p[n]);\n      allPoints.push(p[n + 1]);\n      allPoints.push(cp[2]);\n      allPoints.push(cp[3]);\n    }\n\n    return allPoints;\n  },\n  each: function (obj, func) {\n    for (var key in obj) {\n      func(key, obj[key]);\n    }\n  },\n  _inRange: function (val, left, right) {\n    return left <= val && val < right;\n  },\n  _getProjectionToSegment: function (x1, y1, x2, y2, x3, y3) {\n    var x, y, dist;\n    var pd2 = (x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2);\n\n    if (pd2 == 0) {\n      x = x1;\n      y = y1;\n      dist = (x3 - x2) * (x3 - x2) + (y3 - y2) * (y3 - y2);\n    } else {\n      var u = ((x3 - x1) * (x2 - x1) + (y3 - y1) * (y2 - y1)) / pd2;\n\n      if (u < 0) {\n        x = x1;\n        y = y1;\n        dist = (x1 - x3) * (x1 - x3) + (y1 - y3) * (y1 - y3);\n      } else if (u > 1.0) {\n        x = x2;\n        y = y2;\n        dist = (x2 - x3) * (x2 - x3) + (y2 - y3) * (y2 - y3);\n      } else {\n        x = x1 + u * (x2 - x1);\n        y = y1 + u * (y2 - y1);\n        dist = (x - x3) * (x - x3) + (y - y3) * (y - y3);\n      }\n    }\n\n    return [x, y, dist];\n  },\n  _getProjectionToLine: function (pt, line, isClosed) {\n    var pc = exports.Util.cloneObject(pt);\n    var dist = Number.MAX_VALUE;\n    line.forEach(function (p1, i) {\n      if (!isClosed && i === line.length - 1) {\n        return;\n      }\n\n      var p2 = line[(i + 1) % line.length];\n\n      var proj = exports.Util._getProjectionToSegment(p1.x, p1.y, p2.x, p2.y, pt.x, pt.y);\n\n      var px = proj[0],\n          py = proj[1],\n          pdist = proj[2];\n\n      if (pdist < dist) {\n        pc.x = px;\n        pc.y = py;\n        dist = pdist;\n      }\n    });\n    return pc;\n  },\n  _prepareArrayForTween: function (startArray, endArray, isClosed) {\n    var n,\n        start = [],\n        end = [];\n\n    if (startArray.length > endArray.length) {\n      var temp = endArray;\n      endArray = startArray;\n      startArray = temp;\n    }\n\n    for (n = 0; n < startArray.length; n += 2) {\n      start.push({\n        x: startArray[n],\n        y: startArray[n + 1]\n      });\n    }\n\n    for (n = 0; n < endArray.length; n += 2) {\n      end.push({\n        x: endArray[n],\n        y: endArray[n + 1]\n      });\n    }\n\n    var newStart = [];\n    end.forEach(function (point) {\n      var pr = exports.Util._getProjectionToLine(point, start, isClosed);\n\n      newStart.push(pr.x);\n      newStart.push(pr.y);\n    });\n    return newStart;\n  },\n  _prepareToStringify: function (obj) {\n    var desc;\n    obj.visitedByCircularReferenceRemoval = true;\n\n    for (var key in obj) {\n      if (!(obj.hasOwnProperty(key) && obj[key] && typeof obj[key] == 'object')) {\n        continue;\n      }\n\n      desc = Object.getOwnPropertyDescriptor(obj, key);\n\n      if (obj[key].visitedByCircularReferenceRemoval || exports.Util._isElement(obj[key])) {\n        if (desc.configurable) {\n          delete obj[key];\n        } else {\n          return null;\n        }\n      } else if (exports.Util._prepareToStringify(obj[key]) === null) {\n        if (desc.configurable) {\n          delete obj[key];\n        } else {\n          return null;\n        }\n      }\n    }\n\n    delete obj.visitedByCircularReferenceRemoval;\n    return obj;\n  },\n  _assign: function (target, source) {\n    for (var key in source) {\n      target[key] = source[key];\n    }\n\n    return target;\n  },\n  _getFirstPointerId: function (evt) {\n    if (!evt.touches) {\n      return 999;\n    } else {\n      return evt.changedTouches[0].identifier;\n    }\n  }\n};","map":{"version":3,"sources":["/Users/junyap/foodbank/node_modules/konva/lib/Util.js"],"names":["Object","defineProperty","exports","value","Global_1","require","Collection","toCollection","arr","collection","len","length","n","push","_mapMethod","methodName","prototype","i","args","slice","call","arguments","apply","mapMethods","constructor","prot","each","func","toArray","Transform","m","dirty","reset","copy","copyInto","tr","point","x","y","translate","scale","sx","sy","rotate","rad","c","Math","cos","s","sin","m11","m12","m21","m22","getTranslation","skew","multiply","matrix","dx","dy","invert","d","m0","m1","m2","m3","m4","m5","getMatrix","setAbsolutePosition","yt","xt","decompose","a","b","e","f","delta","result","rotation","scaleX","scaleY","skewX","skewY","r","sqrt","acos","PI","Util","_getRotation","OBJECT_ARRAY","OBJECT_NUMBER","OBJECT_STRING","OBJECT_BOOLEAN","PI_OVER_DEG180","DEG180_OVER_PI","HASH","EMPTY_STRING","ZERO","KONVA_WARNING","KONVA_ERROR","RGB_PAREN","COLORS","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","transparent","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","RGB_REGEX","animQueue","_isElement","obj","nodeType","_isFunction","_isPlainObject","_isArray","toString","_isNumber","isNaN","isFinite","_isString","_isBoolean","isObject","val","isValidSelector","selector","firstChar","toUpperCase","_sign","number","requestAnimFrame","callback","requestAnimationFrame","queue","forEach","cb","createCanvasElement","canvas","document","createElement","style","createImageElement","_isInDocument","el","parentNode","_simplifyArray","retArr","util","round","_urlToImage","url","imageObj","glob","Image","onload","src","_rgbToHex","g","_hexToRgb","hex","replace","bigint","parseInt","getRandomColor","randColor","random","get","def","undefined","getRGB","color","rgb","substring","substr","exec","colorToRGBA","str","_namedColorToRBA","_hex3ColorToRGBA","_hex6ColorToRGBA","_rgbColorToRGBA","_rgbaColorToRGBA","_hslColorToRGBA","toLowerCase","indexOf","match","parts","split","map","Number","test","_a","_","hsl","h","l","t2","t3","t1","haveIntersection","r1","r2","width","height","cloneObject","retObj","key","cloneArray","_degToRad","deg","_radToDeg","radians","Konva","angleDeg","_capitalize","charAt","throw","Error","error","console","warn","showWarnings","extend","child","parent","Ctor","oldProto","hasOwnProperty","__super__","super","_getControlPoints","x0","y0","x1","y1","x2","y2","t","d01","pow","d12","fa","fb","p1x","p1y","p2x","p2y","_expandPoints","p","tension","allPoints","cp","_inRange","left","right","_getProjectionToSegment","x3","y3","dist","pd2","u","_getProjectionToLine","pt","line","isClosed","pc","MAX_VALUE","p1","p2","proj","px","py","pdist","_prepareArrayForTween","startArray","endArray","start","end","temp","newStart","pr","_prepareToStringify","desc","visitedByCircularReferenceRemoval","getOwnPropertyDescriptor","configurable","_assign","target","source","_getFirstPointerId","evt","touches","changedTouches","identifier"],"mappings":"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","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Global_1 = require(\"./Global\");\nvar Collection = (function () {\n    function Collection() {\n    }\n    Collection.toCollection = function (arr) {\n        var collection = new Collection(), len = arr.length, n;\n        for (n = 0; n < len; n++) {\n            collection.push(arr[n]);\n        }\n        return collection;\n    };\n    Collection._mapMethod = function (methodName) {\n        Collection.prototype[methodName] = function () {\n            var len = this.length, i;\n            var args = [].slice.call(arguments);\n            for (i = 0; i < len; i++) {\n                this[i][methodName].apply(this[i], args);\n            }\n            return this;\n        };\n    };\n    Collection.mapMethods = function (constructor) {\n        var prot = constructor.prototype;\n        for (var methodName in prot) {\n            Collection._mapMethod(methodName);\n        }\n    };\n    return Collection;\n}());\nexports.Collection = Collection;\nCollection.prototype = [];\nCollection.prototype.each = function (func) {\n    for (var n = 0; n < this.length; n++) {\n        func(this[n], n);\n    }\n};\nCollection.prototype.toArray = function () {\n    var arr = [], len = this.length, n;\n    for (n = 0; n < len; n++) {\n        arr.push(this[n]);\n    }\n    return arr;\n};\nvar Transform = (function () {\n    function Transform(m) {\n        if (m === void 0) { m = [1, 0, 0, 1, 0, 0]; }\n        this.dirty = false;\n        this.m = (m && m.slice()) || [1, 0, 0, 1, 0, 0];\n    }\n    Transform.prototype.reset = function () {\n        this.m[0] = 1;\n        this.m[1] = 0;\n        this.m[2] = 0;\n        this.m[3] = 1;\n        this.m[4] = 0;\n        this.m[5] = 0;\n    };\n    Transform.prototype.copy = function () {\n        return new Transform(this.m);\n    };\n    Transform.prototype.copyInto = function (tr) {\n        tr.m[0] = this.m[0];\n        tr.m[1] = this.m[1];\n        tr.m[2] = this.m[2];\n        tr.m[3] = this.m[3];\n        tr.m[4] = this.m[4];\n        tr.m[5] = this.m[5];\n    };\n    Transform.prototype.point = function (point) {\n        var m = this.m;\n        return {\n            x: m[0] * point.x + m[2] * point.y + m[4],\n            y: m[1] * point.x + m[3] * point.y + m[5],\n        };\n    };\n    Transform.prototype.translate = function (x, y) {\n        this.m[4] += this.m[0] * x + this.m[2] * y;\n        this.m[5] += this.m[1] * x + this.m[3] * y;\n        return this;\n    };\n    Transform.prototype.scale = function (sx, sy) {\n        this.m[0] *= sx;\n        this.m[1] *= sx;\n        this.m[2] *= sy;\n        this.m[3] *= sy;\n        return this;\n    };\n    Transform.prototype.rotate = function (rad) {\n        var c = Math.cos(rad);\n        var s = Math.sin(rad);\n        var m11 = this.m[0] * c + this.m[2] * s;\n        var m12 = this.m[1] * c + this.m[3] * s;\n        var m21 = this.m[0] * -s + this.m[2] * c;\n        var m22 = this.m[1] * -s + this.m[3] * c;\n        this.m[0] = m11;\n        this.m[1] = m12;\n        this.m[2] = m21;\n        this.m[3] = m22;\n        return this;\n    };\n    Transform.prototype.getTranslation = function () {\n        return {\n            x: this.m[4],\n            y: this.m[5],\n        };\n    };\n    Transform.prototype.skew = function (sx, sy) {\n        var m11 = this.m[0] + this.m[2] * sy;\n        var m12 = this.m[1] + this.m[3] * sy;\n        var m21 = this.m[2] + this.m[0] * sx;\n        var m22 = this.m[3] + this.m[1] * sx;\n        this.m[0] = m11;\n        this.m[1] = m12;\n        this.m[2] = m21;\n        this.m[3] = m22;\n        return this;\n    };\n    Transform.prototype.multiply = function (matrix) {\n        var m11 = this.m[0] * matrix.m[0] + this.m[2] * matrix.m[1];\n        var m12 = this.m[1] * matrix.m[0] + this.m[3] * matrix.m[1];\n        var m21 = this.m[0] * matrix.m[2] + this.m[2] * matrix.m[3];\n        var m22 = this.m[1] * matrix.m[2] + this.m[3] * matrix.m[3];\n        var dx = this.m[0] * matrix.m[4] + this.m[2] * matrix.m[5] + this.m[4];\n        var dy = this.m[1] * matrix.m[4] + this.m[3] * matrix.m[5] + this.m[5];\n        this.m[0] = m11;\n        this.m[1] = m12;\n        this.m[2] = m21;\n        this.m[3] = m22;\n        this.m[4] = dx;\n        this.m[5] = dy;\n        return this;\n    };\n    Transform.prototype.invert = function () {\n        var d = 1 / (this.m[0] * this.m[3] - this.m[1] * this.m[2]);\n        var m0 = this.m[3] * d;\n        var m1 = -this.m[1] * d;\n        var m2 = -this.m[2] * d;\n        var m3 = this.m[0] * d;\n        var m4 = d * (this.m[2] * this.m[5] - this.m[3] * this.m[4]);\n        var m5 = d * (this.m[1] * this.m[4] - this.m[0] * this.m[5]);\n        this.m[0] = m0;\n        this.m[1] = m1;\n        this.m[2] = m2;\n        this.m[3] = m3;\n        this.m[4] = m4;\n        this.m[5] = m5;\n        return this;\n    };\n    Transform.prototype.getMatrix = function () {\n        return this.m;\n    };\n    Transform.prototype.setAbsolutePosition = function (x, y) {\n        var m0 = this.m[0], m1 = this.m[1], m2 = this.m[2], m3 = this.m[3], m4 = this.m[4], m5 = this.m[5], yt = (m0 * (y - m5) - m1 * (x - m4)) / (m0 * m3 - m1 * m2), xt = (x - m4 - m2 * yt) / m0;\n        return this.translate(xt, yt);\n    };\n    Transform.prototype.decompose = function () {\n        var a = this.m[0];\n        var b = this.m[1];\n        var c = this.m[2];\n        var d = this.m[3];\n        var e = this.m[4];\n        var f = this.m[5];\n        var delta = a * d - b * c;\n        var result = {\n            x: e,\n            y: f,\n            rotation: 0,\n            scaleX: 0,\n            scaleY: 0,\n            skewX: 0,\n            skewY: 0,\n        };\n        if (a != 0 || b != 0) {\n            var r = Math.sqrt(a * a + b * b);\n            result.rotation = b > 0 ? Math.acos(a / r) : -Math.acos(a / r);\n            result.scaleX = r;\n            result.scaleY = delta / r;\n            result.skewX = (a * c + b * d) / delta;\n            result.skewY = 0;\n        }\n        else if (c != 0 || d != 0) {\n            var s = Math.sqrt(c * c + d * d);\n            result.rotation =\n                Math.PI / 2 - (d > 0 ? Math.acos(-c / s) : -Math.acos(c / s));\n            result.scaleX = delta / s;\n            result.scaleY = s;\n            result.skewX = 0;\n            result.skewY = (a * c + b * d) / delta;\n        }\n        else {\n        }\n        result.rotation = exports.Util._getRotation(result.rotation);\n        return result;\n    };\n    return Transform;\n}());\nexports.Transform = Transform;\nvar OBJECT_ARRAY = '[object Array]', OBJECT_NUMBER = '[object Number]', OBJECT_STRING = '[object String]', OBJECT_BOOLEAN = '[object Boolean]', PI_OVER_DEG180 = Math.PI / 180, DEG180_OVER_PI = 180 / Math.PI, HASH = '#', EMPTY_STRING = '', ZERO = '0', KONVA_WARNING = 'Konva warning: ', KONVA_ERROR = 'Konva error: ', RGB_PAREN = 'rgb(', COLORS = {\n    aliceblue: [240, 248, 255],\n    antiquewhite: [250, 235, 215],\n    aqua: [0, 255, 255],\n    aquamarine: [127, 255, 212],\n    azure: [240, 255, 255],\n    beige: [245, 245, 220],\n    bisque: [255, 228, 196],\n    black: [0, 0, 0],\n    blanchedalmond: [255, 235, 205],\n    blue: [0, 0, 255],\n    blueviolet: [138, 43, 226],\n    brown: [165, 42, 42],\n    burlywood: [222, 184, 135],\n    cadetblue: [95, 158, 160],\n    chartreuse: [127, 255, 0],\n    chocolate: [210, 105, 30],\n    coral: [255, 127, 80],\n    cornflowerblue: [100, 149, 237],\n    cornsilk: [255, 248, 220],\n    crimson: [220, 20, 60],\n    cyan: [0, 255, 255],\n    darkblue: [0, 0, 139],\n    darkcyan: [0, 139, 139],\n    darkgoldenrod: [184, 132, 11],\n    darkgray: [169, 169, 169],\n    darkgreen: [0, 100, 0],\n    darkgrey: [169, 169, 169],\n    darkkhaki: [189, 183, 107],\n    darkmagenta: [139, 0, 139],\n    darkolivegreen: [85, 107, 47],\n    darkorange: [255, 140, 0],\n    darkorchid: [153, 50, 204],\n    darkred: [139, 0, 0],\n    darksalmon: [233, 150, 122],\n    darkseagreen: [143, 188, 143],\n    darkslateblue: [72, 61, 139],\n    darkslategray: [47, 79, 79],\n    darkslategrey: [47, 79, 79],\n    darkturquoise: [0, 206, 209],\n    darkviolet: [148, 0, 211],\n    deeppink: [255, 20, 147],\n    deepskyblue: [0, 191, 255],\n    dimgray: [105, 105, 105],\n    dimgrey: [105, 105, 105],\n    dodgerblue: [30, 144, 255],\n    firebrick: [178, 34, 34],\n    floralwhite: [255, 255, 240],\n    forestgreen: [34, 139, 34],\n    fuchsia: [255, 0, 255],\n    gainsboro: [220, 220, 220],\n    ghostwhite: [248, 248, 255],\n    gold: [255, 215, 0],\n    goldenrod: [218, 165, 32],\n    gray: [128, 128, 128],\n    green: [0, 128, 0],\n    greenyellow: [173, 255, 47],\n    grey: [128, 128, 128],\n    honeydew: [240, 255, 240],\n    hotpink: [255, 105, 180],\n    indianred: [205, 92, 92],\n    indigo: [75, 0, 130],\n    ivory: [255, 255, 240],\n    khaki: [240, 230, 140],\n    lavender: [230, 230, 250],\n    lavenderblush: [255, 240, 245],\n    lawngreen: [124, 252, 0],\n    lemonchiffon: [255, 250, 205],\n    lightblue: [173, 216, 230],\n    lightcoral: [240, 128, 128],\n    lightcyan: [224, 255, 255],\n    lightgoldenrodyellow: [250, 250, 210],\n    lightgray: [211, 211, 211],\n    lightgreen: [144, 238, 144],\n    lightgrey: [211, 211, 211],\n    lightpink: [255, 182, 193],\n    lightsalmon: [255, 160, 122],\n    lightseagreen: [32, 178, 170],\n    lightskyblue: [135, 206, 250],\n    lightslategray: [119, 136, 153],\n    lightslategrey: [119, 136, 153],\n    lightsteelblue: [176, 196, 222],\n    lightyellow: [255, 255, 224],\n    lime: [0, 255, 0],\n    limegreen: [50, 205, 50],\n    linen: [250, 240, 230],\n    magenta: [255, 0, 255],\n    maroon: [128, 0, 0],\n    mediumaquamarine: [102, 205, 170],\n    mediumblue: [0, 0, 205],\n    mediumorchid: [186, 85, 211],\n    mediumpurple: [147, 112, 219],\n    mediumseagreen: [60, 179, 113],\n    mediumslateblue: [123, 104, 238],\n    mediumspringgreen: [0, 250, 154],\n    mediumturquoise: [72, 209, 204],\n    mediumvioletred: [199, 21, 133],\n    midnightblue: [25, 25, 112],\n    mintcream: [245, 255, 250],\n    mistyrose: [255, 228, 225],\n    moccasin: [255, 228, 181],\n    navajowhite: [255, 222, 173],\n    navy: [0, 0, 128],\n    oldlace: [253, 245, 230],\n    olive: [128, 128, 0],\n    olivedrab: [107, 142, 35],\n    orange: [255, 165, 0],\n    orangered: [255, 69, 0],\n    orchid: [218, 112, 214],\n    palegoldenrod: [238, 232, 170],\n    palegreen: [152, 251, 152],\n    paleturquoise: [175, 238, 238],\n    palevioletred: [219, 112, 147],\n    papayawhip: [255, 239, 213],\n    peachpuff: [255, 218, 185],\n    peru: [205, 133, 63],\n    pink: [255, 192, 203],\n    plum: [221, 160, 203],\n    powderblue: [176, 224, 230],\n    purple: [128, 0, 128],\n    rebeccapurple: [102, 51, 153],\n    red: [255, 0, 0],\n    rosybrown: [188, 143, 143],\n    royalblue: [65, 105, 225],\n    saddlebrown: [139, 69, 19],\n    salmon: [250, 128, 114],\n    sandybrown: [244, 164, 96],\n    seagreen: [46, 139, 87],\n    seashell: [255, 245, 238],\n    sienna: [160, 82, 45],\n    silver: [192, 192, 192],\n    skyblue: [135, 206, 235],\n    slateblue: [106, 90, 205],\n    slategray: [119, 128, 144],\n    slategrey: [119, 128, 144],\n    snow: [255, 255, 250],\n    springgreen: [0, 255, 127],\n    steelblue: [70, 130, 180],\n    tan: [210, 180, 140],\n    teal: [0, 128, 128],\n    thistle: [216, 191, 216],\n    transparent: [255, 255, 255, 0],\n    tomato: [255, 99, 71],\n    turquoise: [64, 224, 208],\n    violet: [238, 130, 238],\n    wheat: [245, 222, 179],\n    white: [255, 255, 255],\n    whitesmoke: [245, 245, 245],\n    yellow: [255, 255, 0],\n    yellowgreen: [154, 205, 5],\n}, RGB_REGEX = /rgb\\((\\d{1,3}),(\\d{1,3}),(\\d{1,3})\\)/, animQueue = [];\nexports.Util = {\n    _isElement: function (obj) {\n        return !!(obj && obj.nodeType == 1);\n    },\n    _isFunction: function (obj) {\n        return !!(obj && obj.constructor && obj.call && obj.apply);\n    },\n    _isPlainObject: function (obj) {\n        return !!obj && obj.constructor === Object;\n    },\n    _isArray: function (obj) {\n        return Object.prototype.toString.call(obj) === OBJECT_ARRAY;\n    },\n    _isNumber: function (obj) {\n        return (Object.prototype.toString.call(obj) === OBJECT_NUMBER &&\n            !isNaN(obj) &&\n            isFinite(obj));\n    },\n    _isString: function (obj) {\n        return Object.prototype.toString.call(obj) === OBJECT_STRING;\n    },\n    _isBoolean: function (obj) {\n        return Object.prototype.toString.call(obj) === OBJECT_BOOLEAN;\n    },\n    isObject: function (val) {\n        return val instanceof Object;\n    },\n    isValidSelector: function (selector) {\n        if (typeof selector !== 'string') {\n            return false;\n        }\n        var firstChar = selector[0];\n        return (firstChar === '#' ||\n            firstChar === '.' ||\n            firstChar === firstChar.toUpperCase());\n    },\n    _sign: function (number) {\n        if (number === 0) {\n            return 0;\n        }\n        if (number > 0) {\n            return 1;\n        }\n        else {\n            return -1;\n        }\n    },\n    requestAnimFrame: function (callback) {\n        animQueue.push(callback);\n        if (animQueue.length === 1) {\n            requestAnimationFrame(function () {\n                var queue = animQueue;\n                animQueue = [];\n                queue.forEach(function (cb) {\n                    cb();\n                });\n            });\n        }\n    },\n    createCanvasElement: function () {\n        var canvas = document.createElement('canvas');\n        try {\n            canvas.style = canvas.style || {};\n        }\n        catch (e) { }\n        return canvas;\n    },\n    createImageElement: function () {\n        return document.createElement('img');\n    },\n    _isInDocument: function (el) {\n        while ((el = el.parentNode)) {\n            if (el == document) {\n                return true;\n            }\n        }\n        return false;\n    },\n    _simplifyArray: function (arr) {\n        var retArr = [], len = arr.length, util = exports.Util, n, val;\n        for (n = 0; n < len; n++) {\n            val = arr[n];\n            if (util._isNumber(val)) {\n                val = Math.round(val * 1000) / 1000;\n            }\n            else if (!util._isString(val)) {\n                val = val.toString();\n            }\n            retArr.push(val);\n        }\n        return retArr;\n    },\n    _urlToImage: function (url, callback) {\n        var imageObj = new Global_1.glob.Image();\n        imageObj.onload = function () {\n            callback(imageObj);\n        };\n        imageObj.src = url;\n    },\n    _rgbToHex: function (r, g, b) {\n        return ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);\n    },\n    _hexToRgb: function (hex) {\n        hex = hex.replace(HASH, EMPTY_STRING);\n        var bigint = parseInt(hex, 16);\n        return {\n            r: (bigint >> 16) & 255,\n            g: (bigint >> 8) & 255,\n            b: bigint & 255,\n        };\n    },\n    getRandomColor: function () {\n        var randColor = ((Math.random() * 0xffffff) << 0).toString(16);\n        while (randColor.length < 6) {\n            randColor = ZERO + randColor;\n        }\n        return HASH + randColor;\n    },\n    get: function (val, def) {\n        if (val === undefined) {\n            return def;\n        }\n        else {\n            return val;\n        }\n    },\n    getRGB: function (color) {\n        var rgb;\n        if (color in COLORS) {\n            rgb = COLORS[color];\n            return {\n                r: rgb[0],\n                g: rgb[1],\n                b: rgb[2],\n            };\n        }\n        else if (color[0] === HASH) {\n            return this._hexToRgb(color.substring(1));\n        }\n        else if (color.substr(0, 4) === RGB_PAREN) {\n            rgb = RGB_REGEX.exec(color.replace(/ /g, ''));\n            return {\n                r: parseInt(rgb[1], 10),\n                g: parseInt(rgb[2], 10),\n                b: parseInt(rgb[3], 10),\n            };\n        }\n        else {\n            return {\n                r: 0,\n                g: 0,\n                b: 0,\n            };\n        }\n    },\n    colorToRGBA: function (str) {\n        str = str || 'black';\n        return (exports.Util._namedColorToRBA(str) ||\n            exports.Util._hex3ColorToRGBA(str) ||\n            exports.Util._hex6ColorToRGBA(str) ||\n            exports.Util._rgbColorToRGBA(str) ||\n            exports.Util._rgbaColorToRGBA(str) ||\n            exports.Util._hslColorToRGBA(str));\n    },\n    _namedColorToRBA: function (str) {\n        var c = COLORS[str.toLowerCase()];\n        if (!c) {\n            return null;\n        }\n        return {\n            r: c[0],\n            g: c[1],\n            b: c[2],\n            a: 1,\n        };\n    },\n    _rgbColorToRGBA: function (str) {\n        if (str.indexOf('rgb(') === 0) {\n            str = str.match(/rgb\\(([^)]+)\\)/)[1];\n            var parts = str.split(/ *, */).map(Number);\n            return {\n                r: parts[0],\n                g: parts[1],\n                b: parts[2],\n                a: 1,\n            };\n        }\n    },\n    _rgbaColorToRGBA: function (str) {\n        if (str.indexOf('rgba(') === 0) {\n            str = str.match(/rgba\\(([^)]+)\\)/)[1];\n            var parts = str.split(/ *, */).map(Number);\n            return {\n                r: parts[0],\n                g: parts[1],\n                b: parts[2],\n                a: parts[3],\n            };\n        }\n    },\n    _hex6ColorToRGBA: function (str) {\n        if (str[0] === '#' && str.length === 7) {\n            return {\n                r: parseInt(str.slice(1, 3), 16),\n                g: parseInt(str.slice(3, 5), 16),\n                b: parseInt(str.slice(5, 7), 16),\n                a: 1,\n            };\n        }\n    },\n    _hex3ColorToRGBA: function (str) {\n        if (str[0] === '#' && str.length === 4) {\n            return {\n                r: parseInt(str[1] + str[1], 16),\n                g: parseInt(str[2] + str[2], 16),\n                b: parseInt(str[3] + str[3], 16),\n                a: 1,\n            };\n        }\n    },\n    _hslColorToRGBA: function (str) {\n        if (/hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.test(str)) {\n            var _a = /hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.exec(str), _ = _a[0], hsl = _a.slice(1);\n            var h = Number(hsl[0]) / 360;\n            var s = Number(hsl[1]) / 100;\n            var l = Number(hsl[2]) / 100;\n            var t2 = void 0;\n            var t3 = void 0;\n            var val = void 0;\n            if (s === 0) {\n                val = l * 255;\n                return {\n                    r: Math.round(val),\n                    g: Math.round(val),\n                    b: Math.round(val),\n                    a: 1,\n                };\n            }\n            if (l < 0.5) {\n                t2 = l * (1 + s);\n            }\n            else {\n                t2 = l + s - l * s;\n            }\n            var t1 = 2 * l - t2;\n            var rgb = [0, 0, 0];\n            for (var i = 0; i < 3; i++) {\n                t3 = h + (1 / 3) * -(i - 1);\n                if (t3 < 0) {\n                    t3++;\n                }\n                if (t3 > 1) {\n                    t3--;\n                }\n                if (6 * t3 < 1) {\n                    val = t1 + (t2 - t1) * 6 * t3;\n                }\n                else if (2 * t3 < 1) {\n                    val = t2;\n                }\n                else if (3 * t3 < 2) {\n                    val = t1 + (t2 - t1) * (2 / 3 - t3) * 6;\n                }\n                else {\n                    val = t1;\n                }\n                rgb[i] = val * 255;\n            }\n            return {\n                r: Math.round(rgb[0]),\n                g: Math.round(rgb[1]),\n                b: Math.round(rgb[2]),\n                a: 1,\n            };\n        }\n    },\n    haveIntersection: function (r1, r2) {\n        return !(r2.x > r1.x + r1.width ||\n            r2.x + r2.width < r1.x ||\n            r2.y > r1.y + r1.height ||\n            r2.y + r2.height < r1.y);\n    },\n    cloneObject: function (obj) {\n        var retObj = {};\n        for (var key in obj) {\n            if (this._isPlainObject(obj[key])) {\n                retObj[key] = this.cloneObject(obj[key]);\n            }\n            else if (this._isArray(obj[key])) {\n                retObj[key] = this.cloneArray(obj[key]);\n            }\n            else {\n                retObj[key] = obj[key];\n            }\n        }\n        return retObj;\n    },\n    cloneArray: function (arr) {\n        return arr.slice(0);\n    },\n    _degToRad: function (deg) {\n        return deg * PI_OVER_DEG180;\n    },\n    _radToDeg: function (rad) {\n        return rad * DEG180_OVER_PI;\n    },\n    _getRotation: function (radians) {\n        return Global_1.Konva.angleDeg ? exports.Util._radToDeg(radians) : radians;\n    },\n    _capitalize: function (str) {\n        return str.charAt(0).toUpperCase() + str.slice(1);\n    },\n    throw: function (str) {\n        throw new Error(KONVA_ERROR + str);\n    },\n    error: function (str) {\n        console.error(KONVA_ERROR + str);\n    },\n    warn: function (str) {\n        if (!Global_1.Konva.showWarnings) {\n            return;\n        }\n        console.warn(KONVA_WARNING + str);\n    },\n    extend: function (child, parent) {\n        function Ctor() {\n            this.constructor = child;\n        }\n        Ctor.prototype = parent.prototype;\n        var oldProto = child.prototype;\n        child.prototype = new Ctor();\n        for (var key in oldProto) {\n            if (oldProto.hasOwnProperty(key)) {\n                child.prototype[key] = oldProto[key];\n            }\n        }\n        child.__super__ = parent.prototype;\n        child.super = parent;\n    },\n    _getControlPoints: function (x0, y0, x1, y1, x2, y2, t) {\n        var d01 = Math.sqrt(Math.pow(x1 - x0, 2) + Math.pow(y1 - y0, 2)), d12 = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2)), fa = (t * d01) / (d01 + d12), fb = (t * d12) / (d01 + d12), p1x = x1 - fa * (x2 - x0), p1y = y1 - fa * (y2 - y0), p2x = x1 + fb * (x2 - x0), p2y = y1 + fb * (y2 - y0);\n        return [p1x, p1y, p2x, p2y];\n    },\n    _expandPoints: function (p, tension) {\n        var len = p.length, allPoints = [], n, cp;\n        for (n = 2; n < len - 2; n += 2) {\n            cp = exports.Util._getControlPoints(p[n - 2], p[n - 1], p[n], p[n + 1], p[n + 2], p[n + 3], tension);\n            if (isNaN(cp[0])) {\n                continue;\n            }\n            allPoints.push(cp[0]);\n            allPoints.push(cp[1]);\n            allPoints.push(p[n]);\n            allPoints.push(p[n + 1]);\n            allPoints.push(cp[2]);\n            allPoints.push(cp[3]);\n        }\n        return allPoints;\n    },\n    each: function (obj, func) {\n        for (var key in obj) {\n            func(key, obj[key]);\n        }\n    },\n    _inRange: function (val, left, right) {\n        return left <= val && val < right;\n    },\n    _getProjectionToSegment: function (x1, y1, x2, y2, x3, y3) {\n        var x, y, dist;\n        var pd2 = (x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2);\n        if (pd2 == 0) {\n            x = x1;\n            y = y1;\n            dist = (x3 - x2) * (x3 - x2) + (y3 - y2) * (y3 - y2);\n        }\n        else {\n            var u = ((x3 - x1) * (x2 - x1) + (y3 - y1) * (y2 - y1)) / pd2;\n            if (u < 0) {\n                x = x1;\n                y = y1;\n                dist = (x1 - x3) * (x1 - x3) + (y1 - y3) * (y1 - y3);\n            }\n            else if (u > 1.0) {\n                x = x2;\n                y = y2;\n                dist = (x2 - x3) * (x2 - x3) + (y2 - y3) * (y2 - y3);\n            }\n            else {\n                x = x1 + u * (x2 - x1);\n                y = y1 + u * (y2 - y1);\n                dist = (x - x3) * (x - x3) + (y - y3) * (y - y3);\n            }\n        }\n        return [x, y, dist];\n    },\n    _getProjectionToLine: function (pt, line, isClosed) {\n        var pc = exports.Util.cloneObject(pt);\n        var dist = Number.MAX_VALUE;\n        line.forEach(function (p1, i) {\n            if (!isClosed && i === line.length - 1) {\n                return;\n            }\n            var p2 = line[(i + 1) % line.length];\n            var proj = exports.Util._getProjectionToSegment(p1.x, p1.y, p2.x, p2.y, pt.x, pt.y);\n            var px = proj[0], py = proj[1], pdist = proj[2];\n            if (pdist < dist) {\n                pc.x = px;\n                pc.y = py;\n                dist = pdist;\n            }\n        });\n        return pc;\n    },\n    _prepareArrayForTween: function (startArray, endArray, isClosed) {\n        var n, start = [], end = [];\n        if (startArray.length > endArray.length) {\n            var temp = endArray;\n            endArray = startArray;\n            startArray = temp;\n        }\n        for (n = 0; n < startArray.length; n += 2) {\n            start.push({\n                x: startArray[n],\n                y: startArray[n + 1],\n            });\n        }\n        for (n = 0; n < endArray.length; n += 2) {\n            end.push({\n                x: endArray[n],\n                y: endArray[n + 1],\n            });\n        }\n        var newStart = [];\n        end.forEach(function (point) {\n            var pr = exports.Util._getProjectionToLine(point, start, isClosed);\n            newStart.push(pr.x);\n            newStart.push(pr.y);\n        });\n        return newStart;\n    },\n    _prepareToStringify: function (obj) {\n        var desc;\n        obj.visitedByCircularReferenceRemoval = true;\n        for (var key in obj) {\n            if (!(obj.hasOwnProperty(key) && obj[key] && typeof obj[key] == 'object')) {\n                continue;\n            }\n            desc = Object.getOwnPropertyDescriptor(obj, key);\n            if (obj[key].visitedByCircularReferenceRemoval ||\n                exports.Util._isElement(obj[key])) {\n                if (desc.configurable) {\n                    delete obj[key];\n                }\n                else {\n                    return null;\n                }\n            }\n            else if (exports.Util._prepareToStringify(obj[key]) === null) {\n                if (desc.configurable) {\n                    delete obj[key];\n                }\n                else {\n                    return null;\n                }\n            }\n        }\n        delete obj.visitedByCircularReferenceRemoval;\n        return obj;\n    },\n    _assign: function (target, source) {\n        for (var key in source) {\n            target[key] = source[key];\n        }\n        return target;\n    },\n    _getFirstPointerId: function (evt) {\n        if (!evt.touches) {\n            return 999;\n        }\n        else {\n            return evt.changedTouches[0].identifier;\n        }\n    },\n};\n"]},"metadata":{},"sourceType":"script"}