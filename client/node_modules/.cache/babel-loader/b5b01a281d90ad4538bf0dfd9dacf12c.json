{"ast":null,"code":"import { MODE_PANNING, MODE_ZOOMING, TOOL_AUTO, TOOL_NONE, TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT } from '../constants';\nimport { getSVGPoint, setFocus } from './common';\nimport { autoPanIfNeeded, startPanning, stopPanning, updatePanning } from './pan';\nimport { startZooming, stopZooming, updateZooming, zoom } from './zoom';\nimport mapRange from '../utils/mapRange';\nexport function getMousePosition(event, ViewerDOM) {\n  var _ViewerDOM$getBoundin = ViewerDOM.getBoundingClientRect(),\n      left = _ViewerDOM$getBoundin.left,\n      top = _ViewerDOM$getBoundin.top;\n\n  var x = event.clientX - Math.round(left);\n  var y = event.clientY - Math.round(top);\n  return {\n    x: x,\n    y: y\n  };\n}\nexport function onMouseDown(event, ViewerDOM, tool, value, props) {\n  var coords = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : null;\n\n  var _ref = coords || getMousePosition(event, ViewerDOM),\n      x = _ref.x,\n      y = _ref.y;\n\n  var nextValue = value;\n\n  switch (tool) {\n    case TOOL_ZOOM_OUT:\n      var SVGPoint = getSVGPoint(value, x, y);\n      nextValue = zoom(value, SVGPoint.x, SVGPoint.y, 1 / props.scaleFactor, props);\n      break;\n\n    case TOOL_ZOOM_IN:\n      nextValue = startZooming(value, x, y);\n      break;\n\n    case TOOL_AUTO:\n    case TOOL_PAN:\n      nextValue = startPanning(value, x, y);\n      break;\n\n    default:\n      return value;\n  }\n\n  event.preventDefault();\n  return nextValue;\n}\nexport function onMouseMove(event, ViewerDOM, tool, value, props) {\n  var coords = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : null;\n\n  var _ref2 = coords || getMousePosition(event, ViewerDOM),\n      x = _ref2.x,\n      y = _ref2.y;\n\n  var forceExit = event.buttons === 0; //the mouse exited and reentered into svg\n\n  var nextValue = value;\n\n  switch (tool) {\n    case TOOL_ZOOM_IN:\n      if (value.mode === MODE_ZOOMING) nextValue = forceExit ? stopZooming(value, x, y, props.scaleFactor, props) : updateZooming(value, x, y);\n      break;\n\n    case TOOL_AUTO:\n    case TOOL_PAN:\n      if (value.mode === MODE_PANNING) nextValue = forceExit ? stopPanning(value) : updatePanning(value, x, y, props.preventPanOutside ? 20 : undefined);\n      break;\n\n    default:\n      return value;\n  }\n\n  event.preventDefault();\n  return nextValue;\n}\nexport function onMouseUp(event, ViewerDOM, tool, value, props) {\n  var coords = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : null;\n\n  var _ref3 = coords || getMousePosition(event, ViewerDOM),\n      x = _ref3.x,\n      y = _ref3.y;\n\n  var nextValue = value;\n\n  switch (tool) {\n    case TOOL_ZOOM_OUT:\n      if (value.mode === MODE_ZOOMING) nextValue = stopZooming(value, x, y, 1 / props.scaleFactor, props);\n      break;\n\n    case TOOL_ZOOM_IN:\n      if (value.mode === MODE_ZOOMING) nextValue = stopZooming(value, x, y, props.scaleFactor, props);\n      break;\n\n    case TOOL_AUTO:\n    case TOOL_PAN:\n      if (value.mode === MODE_PANNING) nextValue = stopPanning(value);\n      break;\n\n    default:\n      return value;\n  }\n\n  event.preventDefault();\n  return nextValue;\n}\nexport function onDoubleClick(event, ViewerDOM, tool, value, props) {\n  var coords = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : null;\n\n  var _ref4 = coords || getMousePosition(event, ViewerDOM),\n      x = _ref4.x,\n      y = _ref4.y;\n\n  var nextValue = value;\n\n  if (tool === TOOL_AUTO && !props.disableDoubleClickZoomWithToolAuto) {\n    var _props$modifierKeys = props.modifierKeys,\n        modifierKeys = _props$modifierKeys === void 0 ? [] : _props$modifierKeys;\n    var SVGPoint = getSVGPoint(value, x, y);\n\n    var modifierKeysReducer = function modifierKeysReducer(current, modifierKey) {\n      return current || event.getModifierState(modifierKey);\n    };\n\n    var modifierKeyActive = modifierKeys.reduce(modifierKeysReducer, false);\n    var scaleFactor = modifierKeyActive ? 1 / props.scaleFactor : props.scaleFactor;\n    nextValue = zoom(value, SVGPoint.x, SVGPoint.y, scaleFactor, props);\n  }\n\n  event.preventDefault();\n  return nextValue;\n}\nexport function onWheel(event, ViewerDOM, tool, value, props) {\n  var coords = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : null;\n\n  var _ref5 = coords || getMousePosition(event, ViewerDOM),\n      x = _ref5.x,\n      y = _ref5.y;\n\n  if (!props.detectWheel) return value;\n  var delta = Math.max(-1, Math.min(1, event.deltaY));\n  var scaleFactor = mapRange(delta, -1, 1, props.scaleFactorOnWheel, 1 / props.scaleFactorOnWheel);\n  var SVGPoint = getSVGPoint(value, x, y);\n  var nextValue = zoom(value, SVGPoint.x, SVGPoint.y, scaleFactor, props);\n  event.preventDefault();\n  return nextValue;\n}\nexport function onMouseEnterOrLeave(event, ViewerDOM, tool, value, props) {\n  var coords = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : null;\n  var nextValue = setFocus(value, event.type === 'mouseenter');\n  event.preventDefault();\n  return nextValue;\n}\nexport function onInterval(event, ViewerDOM, tool, value, props) {\n  var coords = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : null;\n  var x = coords.x,\n      y = coords.y;\n  if (!([TOOL_NONE, TOOL_AUTO].indexOf(tool) >= 0)) return value;\n  if (!props.detectAutoPan) return value;\n  if (!value.focus) return value;\n  return autoPanIfNeeded(value, x, y);\n}","map":{"version":3,"sources":["/home/jun/foodbank/node_modules/react-svg-pan-zoom/build-es/features/interactions.js"],"names":["MODE_PANNING","MODE_ZOOMING","TOOL_AUTO","TOOL_NONE","TOOL_PAN","TOOL_ZOOM_IN","TOOL_ZOOM_OUT","getSVGPoint","setFocus","autoPanIfNeeded","startPanning","stopPanning","updatePanning","startZooming","stopZooming","updateZooming","zoom","mapRange","getMousePosition","event","ViewerDOM","_ViewerDOM$getBoundin","getBoundingClientRect","left","top","x","clientX","Math","round","y","clientY","onMouseDown","tool","value","props","coords","arguments","length","undefined","_ref","nextValue","SVGPoint","scaleFactor","preventDefault","onMouseMove","_ref2","forceExit","buttons","mode","preventPanOutside","onMouseUp","_ref3","onDoubleClick","_ref4","disableDoubleClickZoomWithToolAuto","_props$modifierKeys","modifierKeys","modifierKeysReducer","current","modifierKey","getModifierState","modifierKeyActive","reduce","onWheel","_ref5","detectWheel","delta","max","min","deltaY","scaleFactorOnWheel","onMouseEnterOrLeave","type","onInterval","indexOf","detectAutoPan","focus"],"mappings":"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","sourcesContent":["import { MODE_PANNING, MODE_ZOOMING, TOOL_AUTO, TOOL_NONE, TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT } from '../constants';\nimport { getSVGPoint, setFocus } from './common';\nimport { autoPanIfNeeded, startPanning, stopPanning, updatePanning } from './pan';\nimport { startZooming, stopZooming, updateZooming, zoom } from './zoom';\nimport mapRange from '../utils/mapRange';\nexport function getMousePosition(event, ViewerDOM) {\n  var _ViewerDOM$getBoundin = ViewerDOM.getBoundingClientRect(),\n      left = _ViewerDOM$getBoundin.left,\n      top = _ViewerDOM$getBoundin.top;\n\n  var x = event.clientX - Math.round(left);\n  var y = event.clientY - Math.round(top);\n  return {\n    x: x,\n    y: y\n  };\n}\nexport function onMouseDown(event, ViewerDOM, tool, value, props) {\n  var coords = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : null;\n\n  var _ref = coords || getMousePosition(event, ViewerDOM),\n      x = _ref.x,\n      y = _ref.y;\n\n  var nextValue = value;\n\n  switch (tool) {\n    case TOOL_ZOOM_OUT:\n      var SVGPoint = getSVGPoint(value, x, y);\n      nextValue = zoom(value, SVGPoint.x, SVGPoint.y, 1 / props.scaleFactor, props);\n      break;\n\n    case TOOL_ZOOM_IN:\n      nextValue = startZooming(value, x, y);\n      break;\n\n    case TOOL_AUTO:\n    case TOOL_PAN:\n      nextValue = startPanning(value, x, y);\n      break;\n\n    default:\n      return value;\n  }\n\n  event.preventDefault();\n  return nextValue;\n}\nexport function onMouseMove(event, ViewerDOM, tool, value, props) {\n  var coords = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : null;\n\n  var _ref2 = coords || getMousePosition(event, ViewerDOM),\n      x = _ref2.x,\n      y = _ref2.y;\n\n  var forceExit = event.buttons === 0; //the mouse exited and reentered into svg\n\n  var nextValue = value;\n\n  switch (tool) {\n    case TOOL_ZOOM_IN:\n      if (value.mode === MODE_ZOOMING) nextValue = forceExit ? stopZooming(value, x, y, props.scaleFactor, props) : updateZooming(value, x, y);\n      break;\n\n    case TOOL_AUTO:\n    case TOOL_PAN:\n      if (value.mode === MODE_PANNING) nextValue = forceExit ? stopPanning(value) : updatePanning(value, x, y, props.preventPanOutside ? 20 : undefined);\n      break;\n\n    default:\n      return value;\n  }\n\n  event.preventDefault();\n  return nextValue;\n}\nexport function onMouseUp(event, ViewerDOM, tool, value, props) {\n  var coords = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : null;\n\n  var _ref3 = coords || getMousePosition(event, ViewerDOM),\n      x = _ref3.x,\n      y = _ref3.y;\n\n  var nextValue = value;\n\n  switch (tool) {\n    case TOOL_ZOOM_OUT:\n      if (value.mode === MODE_ZOOMING) nextValue = stopZooming(value, x, y, 1 / props.scaleFactor, props);\n      break;\n\n    case TOOL_ZOOM_IN:\n      if (value.mode === MODE_ZOOMING) nextValue = stopZooming(value, x, y, props.scaleFactor, props);\n      break;\n\n    case TOOL_AUTO:\n    case TOOL_PAN:\n      if (value.mode === MODE_PANNING) nextValue = stopPanning(value);\n      break;\n\n    default:\n      return value;\n  }\n\n  event.preventDefault();\n  return nextValue;\n}\nexport function onDoubleClick(event, ViewerDOM, tool, value, props) {\n  var coords = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : null;\n\n  var _ref4 = coords || getMousePosition(event, ViewerDOM),\n      x = _ref4.x,\n      y = _ref4.y;\n\n  var nextValue = value;\n\n  if (tool === TOOL_AUTO && !props.disableDoubleClickZoomWithToolAuto) {\n    var _props$modifierKeys = props.modifierKeys,\n        modifierKeys = _props$modifierKeys === void 0 ? [] : _props$modifierKeys;\n    var SVGPoint = getSVGPoint(value, x, y);\n\n    var modifierKeysReducer = function modifierKeysReducer(current, modifierKey) {\n      return current || event.getModifierState(modifierKey);\n    };\n\n    var modifierKeyActive = modifierKeys.reduce(modifierKeysReducer, false);\n    var scaleFactor = modifierKeyActive ? 1 / props.scaleFactor : props.scaleFactor;\n    nextValue = zoom(value, SVGPoint.x, SVGPoint.y, scaleFactor, props);\n  }\n\n  event.preventDefault();\n  return nextValue;\n}\nexport function onWheel(event, ViewerDOM, tool, value, props) {\n  var coords = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : null;\n\n  var _ref5 = coords || getMousePosition(event, ViewerDOM),\n      x = _ref5.x,\n      y = _ref5.y;\n\n  if (!props.detectWheel) return value;\n  var delta = Math.max(-1, Math.min(1, event.deltaY));\n  var scaleFactor = mapRange(delta, -1, 1, props.scaleFactorOnWheel, 1 / props.scaleFactorOnWheel);\n  var SVGPoint = getSVGPoint(value, x, y);\n  var nextValue = zoom(value, SVGPoint.x, SVGPoint.y, scaleFactor, props);\n  event.preventDefault();\n  return nextValue;\n}\nexport function onMouseEnterOrLeave(event, ViewerDOM, tool, value, props) {\n  var coords = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : null;\n  var nextValue = setFocus(value, event.type === 'mouseenter');\n  event.preventDefault();\n  return nextValue;\n}\nexport function onInterval(event, ViewerDOM, tool, value, props) {\n  var coords = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : null;\n  var x = coords.x,\n      y = coords.y;\n  if (!([TOOL_NONE, TOOL_AUTO].indexOf(tool) >= 0)) return value;\n  if (!props.detectAutoPan) return value;\n  if (!value.focus) return value;\n  return autoPanIfNeeded(value, x, y);\n}"]},"metadata":{},"sourceType":"module"}